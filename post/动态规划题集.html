<!-- build time:Wed Sep 07 2022 10:36:32 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><link rel="mask-icon" href="/images/logo.svg" color=""><link rel="manifest" href="/images/manifest.json"><meta name="msapplication-config" content="/images/browserconfig.xml"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="google-site-verification" content="il1q90BxSJlkHz0ezs6wuAALE1ljC0BqphuEiVcl41I"><link rel="alternate" type="application/rss+xml" title="Retsa" href="https://asterzc19.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="Retsa" href="https://asterzc19.github.io/atom.xml"><link rel="alternate" type="application/json" title="Retsa" href="https://asterzc19.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="æ¨¡æ¿,é¢˜é›†"><link rel="canonical" href="https://asterzc19.github.io/post/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E9%A2%98%E9%9B%86.html"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-162449527-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-162449527-1")</script><title>åŠ¨æ€è§„åˆ’é¢˜é›† | å›ä¸åˆ°çš„è¿‡å» = Retsa</title><meta name="generator" content="Hexo 6.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">åŠ¨æ€è§„åˆ’é¢˜é›†</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2022-02-28 18:00:20"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">å‘è¡¨äº</span> <time itemprop="dateCreated datePublished" datetime="2022-02-28T18:00:20+08:00">2022-02-28</time> </span><span class="item" title="æœ¬æ–‡å­—æ•°"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">æœ¬æ–‡å­—æ•°</span> <span>48k</span> <span class="text">å­—</span> </span><span class="item" title="é˜…è¯»æ—¶é•¿"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">é˜…è¯»æ—¶é•¿</span> <span>44 åˆ†é’Ÿ</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">å›ä¸åˆ°çš„è¿‡å»</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/06/2ed81611f053c81c.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/05/79181978dd20d35c.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/06/9259140c0ac4c203.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/06/8e1dc72d6a2cd665.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/06/21bbfe021cfceec4.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/07/ff4c0e1d1c41cedd.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/06/85da8357bdceba73.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/06/2b1d828f5ff26065.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/05/728c619db3847842.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/06/0f4de4af64f8d166.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/06/7f6edf1d98b0d8a0.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/05/0ff0506797b60902.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/05/d77d62850e952780.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/07/372deb0eedb17ea9.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/06/b545cd4703efa0d4.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/06/5c235cc1bbf7c128.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/07/04b816dd3c5c9934.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/07/cc4fe587071a62d8.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/05/44d29b2c5b4e40c8.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/05/05ac51bc092a5a09.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/05/82a4dfcddf3ba7e0.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/07/a655408706100f86.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/05/848d77945ce37428.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/06/e82f196e980a63f5.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/07/4203257a6c65e036.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/07/6cde4a47e73d00cf.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/05/db894a8df07c1517.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/05/7d78d1f79d9080f1.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/05/34d7d1d1b3b17e24.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2022/09/05/a67b0e59dd863077.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">é¦–é¡µ</a></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://asterzc19.github.io/post/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E9%A2%98%E9%9B%86.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/iOS.jpg"><meta itemprop="name" content="Retsa"><meta itemprop="description" content=", å¯¹æœªæ¥çš„é€æ”¯ï¼Œå¯¹è¿‡å»çš„å¿è¿˜"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Retsa"></span><div class="body md" itemprop="articleBody"><blockquote><p>åŒ…æ‹¬èƒŒåŒ…é—®é¢˜ï¼Œçº¿æ€§ DPï¼ŒåŒºé—´ DPï¼Œè®¡æ•°ç±» DPï¼Œæ•°ä½ç»Ÿè®¡ DPï¼ŒçŠ¶å‹ DPï¼Œæ ‘å½¢ DPï¼Œè®°å¿†åŒ–æœç´¢ï¼ŒèƒŒåŒ…æ¨¡å‹ï¼Œæ•°å­—ä¸‰è§’å½¢æ¨¡å‹ï¼Œæœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹ï¼ŒçŠ¶æ€æœºæ¨¡å‹ï¼Œå•è°ƒé˜Ÿåˆ—ä¼˜åŒ– DPï¼Œæ–œç‡ä¼˜åŒ– DPã€‚</p></blockquote><hr><h2 id="èƒŒåŒ…é—®é¢˜"><a href="#èƒŒåŒ…é—®é¢˜" class="headerlink" title="èƒŒåŒ…é—®é¢˜"></a>èƒŒåŒ…é—®é¢˜</h2><h3 id="01-èƒŒåŒ…"><a href="#01-èƒŒåŒ…" class="headerlink" title="01 èƒŒåŒ…"></a>01 èƒŒåŒ…</h3><pre><code class="cpp">// N ä»¶ç‰©å“ï¼Œå®¹é‡ä¸º Vï¼Œä½“ç§¯ vï¼Œä»·å€¼ w
cin &gt;&gt; N &gt;&gt; V;
for(int i = 1; i &lt;= N; i++)&#123;
    cin &gt;&gt; v[i] &gt;&gt; w[i];
&#125;
for(int i = 1; i &lt;= N; i++)&#123;
    for(int j = V; j &gt;= v[i]; j--)&#123;
        dp[j] = max(dp[j],dp[j - v[i]] + w[i]);
    &#125;
&#125;
cout &lt;&lt; dp[V] &lt;&lt; endl;
</code></pre><h3 id="å®Œå…¨èƒŒåŒ…"><a href="#å®Œå…¨èƒŒåŒ…" class="headerlink" title="å®Œå…¨èƒŒåŒ…"></a>å®Œå…¨èƒŒåŒ…</h3><ul><li>æ±‚æ‰€æœ‰å‰ç¼€çš„æœ€å¤§å€¼</li></ul><pre><code class="cpp">cin &gt;&gt; N &gt;&gt; V;
for(int i = 1; i &lt;= N; i++)&#123;
    cin &gt;&gt; v[i] &gt;&gt; w[i];
&#125;
for(int i = 1; i &lt;= N; i++)&#123;
    for(int j = v[i]; j &lt;= V; j++)&#123;
        dp[j] = max(dp[j], dp[j - v[i]] + w[i]);
    &#125;
&#125;
cout &lt;&lt; dp[V] &lt;&lt; endl;
</code></pre><h3 id="å¤šé‡èƒŒåŒ…é—®é¢˜-â… "><a href="#å¤šé‡èƒŒåŒ…é—®é¢˜-â… " class="headerlink" title="å¤šé‡èƒŒåŒ…é—®é¢˜ â… "></a>å¤šé‡èƒŒåŒ…é—®é¢˜ â… </h3><pre><code class="cpp">// N ç§ç‰©å“ï¼Œå®¹é‡ä¸º Vï¼Œä¸€ç§ç‰©å“æœ‰ s ä»¶ã€‚
cin &gt;&gt; N &gt;&gt; V;
for(int i = 1; i &lt;= N; i++) cin &gt;&gt; v[i] &gt;&gt; w[i] &gt;&gt; s[i];
for(int i = 1; i &lt;= N; i++)&#123;
    for(int j = 0; j &lt;= N; j++)&#123;
        for(int k = 0; k &lt;= s[i] &amp;&amp; k * v[i] &lt;= j; k++)&#123;
            dp[i][j] = max(dp[i][j], dp[i - 1][j - v[i] * k] + w[i] * k);
        &#125;
    &#125;
&#125;
cout &lt;&lt; dp[N][V] &lt;&lt; endl;
</code></pre><h3 id="å¤šé‡èƒŒåŒ…é—®é¢˜-â…¡"><a href="#å¤šé‡èƒŒåŒ…é—®é¢˜-â…¡" class="headerlink" title="å¤šé‡èƒŒåŒ…é—®é¢˜ â…¡"></a>å¤šé‡èƒŒåŒ…é—®é¢˜ â…¡</h3><ul><li>è€ƒå¯Ÿå¤šé‡èƒŒåŒ…çš„äºŒè¿›åˆ¶ä¼˜åŒ–æ–¹æ³•</li></ul><pre><code class="cpp">cin &gt;&gt; N &gt;&gt; V;
int cnt = 0;
for(int i = 1; i &lt;= n; i++)&#123;
    int a, b, s;
    cin &gt;&gt; a &gt;&gt; b &gt;&gt; s;
    int k = 1;
    while(k &lt;= s)&#123;
        cnt++;
        v[cnt] = a * k, w[cnt] = b * k;
        s -= k;
        k *= 2;
    &#125;
    if(s &gt; 0)&#123;
        cnt++;
        v[cnt] = a * s, w[cnt] = b * s;
    &#125;
&#125;
n = cnt;
for(int i = 1; i &lt;= n; i++)&#123;
    for(int j = V; j &gt;= v[i]; j--)&#123;
        dp[j] = max(dp[j], dp[j - v[i]] + w[i]);
    &#125;
&#125;
cout &lt;&lt; dp[V] &lt;&lt; endl;
</code></pre><h3 id="åˆ†ç»„èƒŒåŒ…é—®é¢˜"><a href="#åˆ†ç»„èƒŒåŒ…é—®é¢˜" class="headerlink" title="åˆ†ç»„èƒŒåŒ…é—®é¢˜"></a>åˆ†ç»„èƒŒåŒ…é—®é¢˜</h3><pre><code class="cpp">cin &gt;&gt; n &gt;&gt; m;
for(int i = 1; i &lt;= n; i++)&#123;
    cin &gt;&gt; s[i];
    for(int j = 1; j &lt;= s[i]; j++)&#123;
        cin &gt;&gt; v[i][j] &gt;&gt; w[i][j];
    &#125;
&#125;
for(int i = 1; i &lt;= n; i++)&#123;
    for(int j = m; j &gt;= 0; j--)&#123;
        for(int k = 0; k &lt;= s[i]; k++)&#123;
            if(v[i][k] &lt;= j)&#123;
                dp[j] = max(dp[j], dp[j - v[i][k]] + w[i][k]);
            &#125;
        &#125;
    &#125;
&#125;
cout &lt;&lt; dp[m] &lt;&lt; endl;
</code></pre><hr><h2 id="çº¿æ€§-DP"><a href="#çº¿æ€§-DP" class="headerlink" title="çº¿æ€§ DP"></a>çº¿æ€§ DP</h2><h3 id="æ•°å­—ä¸‰è§’å½¢"><a href="#æ•°å­—ä¸‰è§’å½¢" class="headerlink" title="æ•°å­—ä¸‰è§’å½¢"></a>æ•°å­—ä¸‰è§’å½¢</h3><pre><code class="cpp">int n;
cin &gt;&gt; n;
for(int i = 1; i &lt;= n; i++)&#123;
    for(int j = 1; j &lt;= i; j++)&#123;
        cin &gt;&gt; a[i][j];
    &#125;
&#125;
for(int i = 0; i &lt;= n; i++)&#123;
    for(int j = 0; j &lt;= i + 1; j++)&#123;
        f[i][j] = -INF;
    &#125;
&#125;
f[1][1] = a[1][1];
for(int i = 2; i &lt;= n; i++)&#123;
    for(int j = 1; j &lt;= i; j++)&#123;
        f[i][j] = max(f[i-1][j-1] + a[i][j], f[i-1][j] + a[i][j]);
    &#125;
&#125;
int res = -INF;
for(int i = 1; i &lt;= n; i++)&#123;
    res = max(res, f[n][i]);
&#125;
cout &lt;&lt; res &lt;&lt; endl;
</code></pre><h3 id="æœ€é•¿ä¸Šå‡å­åºåˆ—-â… "><a href="#æœ€é•¿ä¸Šå‡å­åºåˆ—-â… " class="headerlink" title="æœ€é•¿ä¸Šå‡å­åºåˆ— â… "></a>æœ€é•¿ä¸Šå‡å­åºåˆ— â… </h3><pre><code class="cpp">cin &gt;&gt; n;
for(int i = 1; i &lt;= n; i++)
    cin &gt;&gt; a[i];
for(int i = 1; i &lt;= n; i++)&#123;
    dp[i] = 1;
    for(int j = 1; j &lt; i; j++)&#123;
        if(a[j] &lt; a[i])&#123;
            dp[i] = max(dp[i], dp[j] + 1);
        &#125;
    &#125;
&#125;
int res = 0;
for(int i = 1; i &lt;= n; i++)&#123;
    res = max(res, dp[i]);
&#125;
cout &lt;&lt; res &lt;&lt; endl;
</code></pre><h3 id="æœ€é•¿ä¸Šå‡å­åºåˆ—-â…¡"><a href="#æœ€é•¿ä¸Šå‡å­åºåˆ—-â…¡" class="headerlink" title="æœ€é•¿ä¸Šå‡å­åºåˆ— â…¡"></a>æœ€é•¿ä¸Šå‡å­åºåˆ— â…¡</h3><pre><code class="cpp">// q[len] è¡¨ç¤ºé•¿åº¦ä¸º len çš„åºåˆ—æœ€åä¸€ä¸ªæ•°çš„å€¼
int n;
cin &gt;&gt; n;
for (int i = 1; i &lt;= n; i++)
    cin &gt;&gt; a[i];

int len = 0;
for(int i = 1; i &lt;= n; i++)&#123;
    int l = 0, r = len;
    while(l &lt; r)&#123;
        int mid = l + r + 1 &gt;&gt; 1;
        if(q[mid] &lt; a[i]) l = mid;
        else r = mid - 1;
    &#125;
    len = max(len, r + 1);
    q[r + 1] = a[i];
&#125;
cout &lt;&lt; len &lt;&lt; endl;
</code></pre><h3 id="æœ€é•¿å…¬å…±å­åºåˆ—"><a href="#æœ€é•¿å…¬å…±å­åºåˆ—" class="headerlink" title="æœ€é•¿å…¬å…±å­åºåˆ—"></a>æœ€é•¿å…¬å…±å­åºåˆ—</h3><pre><code class="cpp">scanf(&quot;%d%d&quot;, &amp;n, &amp;m);
scanf(&quot;%s %s&quot;, a + 1, b + 1);
for(int i = 1; i &lt;= n; i++)&#123;
    for(int j = 1; j &lt;= m; j++)&#123;
        dp[i][j] = max(dp[i-1][j], dp[i][j-1]);
        if(a[i] == b[j])&#123;
            dp[i][j] = max(dp[i-1][j-1] + 1, dp[i][j]);
        &#125;
    &#125;
&#125;
printf(&quot;%d\n&quot;, dp[n][m]);
</code></pre><h3 id="æœ€çŸ­ç¼–è¾‘è·ç¦»"><a href="#æœ€çŸ­ç¼–è¾‘è·ç¦»" class="headerlink" title="æœ€çŸ­ç¼–è¾‘è·ç¦»"></a>æœ€çŸ­ç¼–è¾‘è·ç¦»</h3><h3 id="ç¼–è¾‘è·ç¦»"><a href="#ç¼–è¾‘è·ç¦»" class="headerlink" title="ç¼–è¾‘è·ç¦»"></a>ç¼–è¾‘è·ç¦»</h3><ul><li>é¢˜æ„<ul><li>ç»™å®š $n$ ä¸ªé•¿åº¦ä¸è¶…è¿‡ $10$ çš„å­—ç¬¦ä¸²ä»¥åŠ $m$ æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ç»™å‡ºä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªæ“ä½œæ¬¡æ•°ä¸Šé™ã€‚</li><li>å¯¹äºæ¯æ¬¡è¯¢é—®ï¼Œè¯·ä½ æ±‚å‡ºç»™å®šçš„ $n$ ä¸ªå­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªå­—ç¬¦ä¸²å¯ä»¥åœ¨ä¸Šé™æ“ä½œæ¬¡æ•°å†…ç»è¿‡æ“ä½œå˜æˆè¯¢é—®ç»™å‡ºçš„å­—ç¬¦ä¸²ã€‚</li><li>æ¯ä¸ªå¯¹å­—ç¬¦ä¸²è¿›è¡Œçš„å•ä¸ªå­—ç¬¦çš„æ’å…¥ã€åˆ é™¤æˆ–æ›¿æ¢ç®—ä½œä¸€æ¬¡æ“ä½œã€‚</li></ul></li><li>ä»£ç </li></ul><pre><code class="cpp">int edit_distance(char a[], char b[])
&#123;
    int la = strlen(a+1), lb = strlen(b+1);
    for(int i = 0; i &lt;= lb; i++) dp[0][i] = i;
    for(int i = 0; i &lt;= la; i++) dp[i][0] = i;
    for(int i = 1; i &lt;= la; i++)&#123;
        for(int j = 1; j &lt;= lb; j++)&#123;
            dp[i][j] = min(dp[i-1][j] + 1, dp[i][j-1] + 1);
            dp[i][j] = min(dp[i][j], dp[i-1][j-1] + (a[i] != b[j]));
        &#125;
    &#125;
    return dp[la][lb];
&#125;    
int main()
&#123;
    scanf(&quot;%d%d&quot;, &amp;n, &amp;m);	// n ä¸ªå­—ç¬¦ä¸²ï¼Œm æ¬¡è¯¢é—®
    for (int i = 1; i &lt;= n; i++)
        scanf(&quot;%s&quot;, str[i] + 1);
    while(m--)&#123;
        char s[N];
        int limit;
        scanf(&quot;%s%d&quot;, s + 1, &amp;limit);
        int res = 0;
        for(int i = 1; i &lt;= n; i++)&#123;
            if(edit_distance(str[i], s) &lt;= limit)&#123;
                res ++;
            &#125;
        &#125;
        printf(&quot;%d\n&quot;, res);
    &#125;
&#125;
</code></pre><hr><h2 id="åŒºé—´-DP"><a href="#åŒºé—´-DP" class="headerlink" title="åŒºé—´ DP"></a>åŒºé—´ DP</h2><h3 id="çŸ³å­åˆå¹¶"><a href="#çŸ³å­åˆå¹¶" class="headerlink" title="çŸ³å­åˆå¹¶"></a>çŸ³å­åˆå¹¶</h3><pre><code class="cpp">cin &gt;&gt; n;
for(int i = 1; i &lt;= n; i++)&#123;
    cin &gt;&gt; s[i];
&#125;
for(int i = 1; i &lt;= n; i++)&#123;
    s[i] += s[i - 1];
&#125;
for(int len = 2; len &lt;= n; len++)&#123;
    for(int i = 1; i + len - 1 &lt;= n; i++)&#123;
        int l = i, r = i + len - 1;
        dp[l][r] = 1e9;
        for(int k = l; k &lt; r; k++)&#123;
            dp[l][r] = min(dp[l][r], dp[l][k] + dp[k + 1][r] + s[r] - s[l-1]);
        &#125;
    &#125;
&#125;
cout &lt;&lt; dp[1][n] &lt;&lt; endl;
</code></pre><h3 id="AcWing-ç¯å½¢çŸ³å­åˆå¹¶"><a href="#AcWing-ç¯å½¢çŸ³å­åˆå¹¶" class="headerlink" title="AcWing|ç¯å½¢çŸ³å­åˆå¹¶"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA3MC8=">AcWing|ç¯å½¢çŸ³å­åˆå¹¶</span></h3><ul><li>æ¯è½®åˆå¹¶çš„çŸ³å­å¿…é¡»æ˜¯ <strong>ç›¸é‚»</strong> çš„ä¸¤å †çŸ³å­ï¼Œç”¨åˆ°çš„æ˜¯ç»å…¸çš„åŒºé—´ DP æ¨¡å‹ï¼Œæšä¸¾åŒºé—´é•¿åº¦</li><li>çŠ¶æ€è¡¨ç¤º $dp[l, r]$<ul><li>é›†åˆï¼šå½“å‰åˆå¹¶çš„çŸ³å­å †çš„å¤§å°ä¸º $len$ï¼Œä¸”çŸ³å­å †çš„å·¦ç«¯ç‚¹æ˜¯ $l$ï¼Œå³ç«¯ç‚¹æ˜¯ $r$ çš„æ–¹æ¡ˆ</li><li>å±æ€§ï¼šMin&#x2F;Max</li></ul></li><li>çŠ¶æ€è®¡ç®—ï¼ˆä»¥æœ€å°å€¼ä¸ºä¾‹ï¼‰<ul><li><code>dp[l][r] = min (dp[l][r], dp[l][k] + dp[k + 1][r] + s[r] - s[l - 1]</code></li></ul></li><li>é€šè¿‡æŠŠé“¾å»¶é•¿ä¸¤å€ï¼Œå˜æˆ $2n$ å †çŸ³å­ï¼Œå¯ä»¥åœ¨ $O(n^3)$ çš„æ—¶é—´å¤æ‚åº¦ä¹‹å†…è§£å†³è¿™é“é¢˜ç›®</li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
typedef long long LL;
const int N = 410;
int dp1[N][N], dp2[N][N];
int w[N], s[N];
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    int n; cin &gt;&gt; n;
    for(int i = 1; i &lt;= n; i++)&#123;
        cin &gt;&gt; w[i];
        w[i + n] = w[i];
    &#125;
    for(int i = 1; i &lt;= 2 * n; i++) s[i] = s[i - 1] + w[i];
    memset(dp1, 0x3f, sizeof(dp1));
    memset(dp2, -0x3f, sizeof(dp2));
    for(int len = 1; len &lt;= n; len++)&#123;
        for(int i = 1; i + len - 1 &lt;= n * 2; i++)&#123;
            int j = i + len - 1;
            if(i == j) dp1[i][j] = dp2[i][j] = 0;
            else&#123;
                for(int k = i; k &lt; j; k++)&#123;
                    dp1[i][j] = min(dp1[i][j], dp1[i][k] + dp1[k + 1][j] + s[j] - s[i - 1]);
                    dp2[i][j] = max(dp2[i][j], dp2[i][k] + dp2[k + 1][j] + s[j] - s[i - 1]);
                &#125;
            &#125;
        &#125;
    &#125;
    int ans1 = 0x3f3f3f3f, ans2 = -0x3f3f3f3f;
    for(int i = 1; i &lt;= n; i++)&#123;
        ans1 = min(ans1, dp1[i][i + n - 1]);
        ans2 = max(ans2, dp2[i][i + n - 1]);
    &#125;
    cout &lt;&lt; ans1 &lt;&lt; endl &lt;&lt; ans2 &lt;&lt; endl;
&#125;
</code></pre><h3 id="AcWing-èƒ½é‡é¡¹é“¾"><a href="#AcWing-èƒ½é‡é¡¹é“¾" class="headerlink" title="AcWing|èƒ½é‡é¡¹é“¾"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMzIyLw==">AcWing|èƒ½é‡é¡¹é“¾</span></h3><ul><li>çŠ¶æ€è¡¨ç¤º $dp[L, R]$<ul><li>é›†åˆï¼šæ‰€æœ‰å°† $[L, R]$ åˆå¹¶åœ¨æˆä¸€ä¸ªçŸ©é˜µï¼ˆç å­ï¼‰çš„æ–¹å¼</li><li>å±æ€§ï¼šMax</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li><code>dp[L][R] = max(dp[L][R], dp[L][K] + dp[K][R] + w[L] * w[K] * w[R])</code></li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
typedef long long LL;
const int N = 210;
int dp[N][N], w[N];
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    int n; cin &gt;&gt; n;
    for(int i = 1; i &lt;= n; i++)&#123;
        cin &gt;&gt; w[i];
        w[i + n] = w[i];
    &#125;
    for(int len = 3; len &lt;= n + 1; len++)&#123;
        for(int i = 1; i + len - 1 &lt;= 2 * n; i++)&#123;
            int j = i + len - 1;
            for(int k = i + 1; k &lt; j; k++)&#123;
                dp[i][j] = max(dp[i][j] , dp[i][k] + dp[k][j] + w[i] * w[k] * w[j]);
            &#125;
        &#125;
    &#125;
    int ans = 0;
    for(int i = 1; i &lt;= n; i++) ans = max(ans, dp[i][i + n]);
    cout &lt;&lt; ans &lt;&lt; endl;
&#125;
</code></pre><h3 id="AcWing-å‡¸å¤šè¾¹å½¢çš„åˆ’åˆ†"><a href="#AcWing-å‡¸å¤šè¾¹å½¢çš„åˆ’åˆ†" class="headerlink" title="AcWing|å‡¸å¤šè¾¹å½¢çš„åˆ’åˆ†"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA3MS8=">AcWing|å‡¸å¤šè¾¹å½¢çš„åˆ’åˆ†</span></h3><ul><li>çŠ¶æ€è¡¨ç¤º $dp[L, R]$<ul><li>é›†åˆï¼šæ‰€æœ‰å°† $(L, L + 1), (L + 1, L + 2), \cdots , (R - 1, R), (R, L)$ è¿™ä¸ªå¤šè¾¹å½¢åˆ’åˆ†æˆä¸‰è§’å½¢çš„æ–¹æ¡ˆ</li><li>å±æ€§ï¼šMin</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li><code>dp[L][R] = max(dp[L][R], dp[L][K] + dp[K][R] + w[L] * w[K] * w[R])</code></li></ul></li><li>æ•°ç»„å®ç°é«˜ç²¾åº¦</li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
typedef long long LL;
const int N = 55, M = 35, INF = 1e9;
int n;
int w[N];
LL dp[N][N][M];
void add(LL a[], LL b[])&#123;
    static LL c[M];
    memset(c, 0, sizeof(c));
    for(int i = 0, t = 0; i &lt; M; i++)&#123;
        t += a[i] + b[i];
        c[i] = t % 10;
        t /= 10;
    &#125;
    memcpy(a, c, sizeof(c));
&#125;
void mul(LL a[], LL b)&#123;
    static LL c[M];
    memset(c, 0, sizeof(c));
    LL t = 0;
    for(int i = 0; i &lt; M; i++)&#123;
        t += a[i] * b;
        c[i] = t % 10;
        t /= 10;
    &#125;
    memcpy(a, c, sizeof(c));
&#125;
int cmp(LL a[], LL b[])&#123;
    for(int i = M - 1; i &gt;= 0; i--)&#123;
        if(a[i] &gt; b[i]) return 1;
        if(a[i] &lt; b[i]) return -1;
    &#125;
    return 0;
&#125;
void print(LL a[])&#123;
    int k = M - 1;
    while(k &amp;&amp; !a[k]) k--;
    while(k &gt;= 0) cout &lt;&lt; a[k--];
    cout &lt;&lt; endl;
&#125;
int main()&#123;
    cin &gt;&gt; n;
    for(int i = 1; i &lt;= n; i++) cin &gt;&gt; w[i];
    LL tmp[M];
    for(int len = 3; len &lt;= n; len++)&#123;
        for(int l = 1; l + len - 1 &lt;= n; l++)&#123;
            int r = l + len - 1;
            dp[l][r][M - 1] = 1;
            for(int k = l + 1; k &lt; r; k++)&#123;
                memset(tmp, 0, sizeof(tmp));
                tmp[0] = w[l];
                mul(tmp, w[k]);
                mul(tmp, w[r]);
                add(tmp, dp[l][k]);
                add(tmp, dp[k][r]);
                if(cmp(dp[l][r], tmp) &gt; 0)&#123;
                    memcpy(dp[l][r], tmp, sizeof(tmp));
                &#125;
            &#125;
        &#125;
    &#125;
    print(dp[1][n]);
&#125;
</code></pre><h3 id="AcWing-åŠ åˆ†äºŒå‰æ ‘"><a href="#AcWing-åŠ åˆ†äºŒå‰æ ‘" class="headerlink" title="AcWing|åŠ åˆ†äºŒå‰æ ‘"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvNDgxLw==">AcWing|åŠ åˆ†äºŒå‰æ ‘</span></h3><ul><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9zb2x1dGlvbi9jb250ZW50LzEyODQxLw==">ä»‹ç»å‰ï¼Œä¸­ï¼Œååºéå†</span></li><li>çŠ¶æ€è¡¨ç¤º $dp[L, R]$<ul><li>é›†åˆï¼šæ‰€æœ‰ä¸­åºéå†æ˜¯ $[L, R]$ è¿™ä¸€æ®µçš„äºŒå‰æ ‘çš„é›†åˆ</li><li>å±æ€§ï¼šMax</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li>æšä¸¾ä¸åŒæ ¹èŠ‚ç‚¹çš„æ–¹æ¡ˆ</li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 30;
int n;
int w[N];
int dp[N][N], g[N][N];
void dfs(int l, int r)&#123;
    if(l &gt; r) return;
    int t = g[l][r];
    cout &lt;&lt; t &lt;&lt; &quot; &quot;;
    dfs(l, t - 1);
    dfs(t + 1, r);
&#125;
int main()&#123;
    cin &gt;&gt; n;
    for(int i = 1; i &lt;= n; i++) cin &gt;&gt; w[i];
    for(int len = 1; len &lt;= n; len++)&#123;
        for(int l = 1; l + len - 1 &lt;= n; l++)&#123;
            int r = l + len - 1;
            if(len == 1) dp[l][r] = w[l], g[l][r] = l;
            else&#123;
                for(int k = l; k &lt;= r; k++)&#123;
                    int left = k == l ? 1 : dp[l][k - 1];
                    int right = k == r ? 1 : dp[k + 1][r];
                    int score = left * right + w[k];
                    if(dp[l][r] &lt; score)&#123;
                        dp[l][r] = score;
                        g[l][r] = k;
                    &#125;
                &#125;
            &#125;
        &#125;
    &#125;
    cout &lt;&lt; dp[1][n] &lt;&lt; endl;
    dfs(1, n);
&#125;
</code></pre><h3 id="AcWing-æ£‹ç›˜åˆ†å‰²"><a href="#AcWing-æ£‹ç›˜åˆ†å‰²" class="headerlink" title="AcWing|æ£‹ç›˜åˆ†å‰²"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMzIzLw==">AcWing|æ£‹ç›˜åˆ†å‰²</span></h3><ul><li>çŠ¶æ€è¡¨ç¤º $dp[x1, y1, x2, y2, k]$<ul><li>é›†åˆï¼šå­çŸ©é˜µ $(x1, y1)(x2, y2)$ åˆ‡åˆ†æˆ $k$ éƒ¨åˆ†çš„æ‰€æœ‰æ–¹æ¡ˆ</li><li>å±æ€§ï¼šå‡æ–¹å·®çš„æœ€å°å€¼</li></ul></li><li>è®°å¿†åŒ–æœç´¢</li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 15, M = 9;
const double INF = 1e9;
int n, m = 8;
int s[M][M];
double dp[M][M][M][M][N];
double X;
int getSum(int x1, int y1, int x2, int y2)&#123;
    return s[x2][y2] - s[x1 - 1][y2] - s[x2][y1 - 1] + s[x1 - 1][y1 - 1];
&#125;
double get(int x1, int y1, int x2, int y2)&#123;
    double sum = getSum(x1, y1, x2, y2) - X;
    return sum * sum / n;
&#125;
double calc(int x1, int y1, int x2, int y2, int k)&#123;
    double &amp;v = dp[x1][y1][x2][y2][k];
    if(v &gt;= 0) return v;
    if(k == 1) return v = get(x1, y1, x2, y2);
    v = INF;
    for(int i = x1; i &lt; x2; i++)&#123;
        v = min(v, get(x1, y1, i, y2) + calc(i + 1, y1, x2, y2, k - 1));
        v = min(v, get(i + 1, y1, x2, y2) + calc(x1, y1, i, y2, k - 1));
    &#125;
    for(int i = y1; i &lt; y2; i++)&#123;
        v = min(v, get(x1, y1, x2, i) + calc(x1, i + 1, x2, y2, k - 1));
        v = min(v, get(x1, i + 1, x2, y2) + calc(x1, y1, x2, i, k - 1));
    &#125;
    return v;
&#125;
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    cin &gt;&gt; n;
    for(int i = 1; i &lt;= m; i++)&#123;
        for(int j = 1; j &lt;= m; j++)&#123;
            cin &gt;&gt; s[i][j];
            s[i][j] += s[i - 1][j] + s[i][j - 1] - s[i - 1][j - 1];
        &#125;
    &#125;
    X = 1.0 * s[m][m] / n;
    memset(dp, -1, sizeof(dp));
    cout &lt;&lt; fixed &lt;&lt; setprecision(3) &lt;&lt; sqrt(calc(1, 1, 8, 8, n)) &lt;&lt; endl;
&#125;
</code></pre><hr><h2 id="è®¡æ•°ç±»-DP"><a href="#è®¡æ•°ç±»-DP" class="headerlink" title="è®¡æ•°ç±» DP"></a>è®¡æ•°ç±» DP</h2><h3 id="æ•´æ•°åˆ’åˆ†"><a href="#æ•´æ•°åˆ’åˆ†" class="headerlink" title="æ•´æ•°åˆ’åˆ†"></a>æ•´æ•°åˆ’åˆ†</h3><ul><li>æŠŠ $1, 2, â€¦ , n$ åˆ†åˆ«çœ‹åš $n$ ä¸ªç‰©å“çš„ä½“ç§¯ï¼Œè¿™ $n$ ä¸ªç‰©ä½“å‡æ— ä½¿ç”¨æ¬¡æ•°é™åˆ¶ï¼Œé—®æ°å¥½èƒ½è£…æ»¡æ€»ä½“ç§¯ä¸º $n$ çš„èƒŒåŒ…çš„æ€»æ–¹æ¡ˆæ•°ã€‚ï¼ˆå®Œå…¨èƒŒåŒ…é—®é¢˜å˜å½¢ï¼‰</li><li>$dp[i][j]$ è¡¨ç¤ºå‰ $i$ ä¸ªæ•´æ•°æ°å¥½æ‹¼æˆ $j$ çš„æ–¹æ¡ˆæ•°ã€‚</li><li>ç±»ä¼¼å®Œå…¨èƒŒåŒ…çš„æ¨å¯¼ $dp[i][j] &#x3D; dp[i-1][j] + dp[i][j-1]$ å¯ç­‰ä»·å˜å½¢ä¸º $dp[j] &#x3D; dp[j] + dp[j - i]$</li></ul><pre><code class="cpp">cin &gt;&gt; n;
dp[0] = 1;	// å®¹é‡ä¸º 0 æ—¶ï¼Œå‰ i ä¸ªç‰©å“å…¨ä¸é€‰ä¹Ÿæ˜¯ä¸€ç§æ–¹æ¡ˆ
for(int i = 1; i &lt;= n; i++)&#123;
    for(int j = i; j &lt;= n; j++)&#123;
        dp[j] = (dp[j] + dp[j - i]) % mod;
    &#125;
&#125;
cout &lt;&lt; dp[n] &lt;&lt; endl;
</code></pre><hr><h2 id="è®°å¿†åŒ–æœç´¢"><a href="#è®°å¿†åŒ–æœç´¢" class="headerlink" title="è®°å¿†åŒ–æœç´¢"></a>è®°å¿†åŒ–æœç´¢</h2><h3 id="æ»‘é›ª"><a href="#æ»‘é›ª" class="headerlink" title="æ»‘é›ª"></a>æ»‘é›ª</h3><pre><code class="cpp">int n, m;
int g[N][N], f[N][N];
int dx[4] = &#123;1, 0, -1, 0&#125;, dy[4] = &#123;0, 1, 0, -1&#125;;
int dp(int x, int y)&#123;
    int &amp;v = f[x][y];
    if(v != -1) return v;
    v = 1;
    for(int i = 0; i &lt; 4; i++)&#123;
        int nx = x + dx[i], ny = y + dy[i];
        if(nx &gt;= 1 &amp;&amp; nx &lt;= n &amp;&amp; ny &gt;= 1 &amp;&amp; ny &lt;= m &amp;&amp; g[x][y] &gt; g[nx][ny])&#123;
            v = max(v, dp(nx, ny) + 1);
        &#125;
    &#125;
    return v;
&#125;
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    cin &gt;&gt; n &gt;&gt; m;
    for(int i = 1; i &lt;= n; i++)&#123;
        for(int j = 1; j &lt;= m; j++)&#123;
            cin &gt;&gt; g[i][j];
        &#125;
    &#125;
    memset(f, -1, sizeof(f));
    int ans = 0;
    for(int i = 1; i &lt;= n; i++)&#123;
        for(int j = 1; j &lt;= m; j++)&#123;
            ans = max(ans, dp(i, j));
        &#125;
    &#125;
    cout &lt;&lt; ans &lt;&lt; endl;
&#125;
</code></pre><hr><h2 id="çŠ¶å‹-DP"><a href="#çŠ¶å‹-DP" class="headerlink" title="çŠ¶å‹ DP"></a>çŠ¶å‹ DP</h2><ul><li>æ£‹ç›˜å¼ï¼ˆåŸºäºè¿é€šæ€§ï¼‰</li><li>é›†åˆå¼</li></ul><h3 id="è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³ğŸŒ¸"><a href="#è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³ğŸŒ¸" class="headerlink" title="è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³ğŸŒ¸"></a>è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³ğŸŒ¸</h3><ul><li>çŠ¶æ€è¡¨ç¤º $f[i, j]$<ul><li>é›†åˆï¼šå°†å‰é¢å…¨éƒ¨æ’å¥½ï¼Œä¸” $i - 1$ åˆ—ä¼¸å‡ºåˆ°ç¬¬ $i$ åˆ—æ‰€æœ‰æ–¹æ¡ˆçš„é›†åˆï¼Œ$j$ è¡¨ç¤ºçŠ¶æ€</li></ul></li><li>å…ˆæ”¾æ¨ªç€çš„ï¼Œç«–ç€çš„éšç€æ¨ªå‘çš„æ‘†æ”¾è€Œå›ºå®šã€‚ä¹‹ååˆ¤æ–­æ˜¯å¦åˆæ³•ï¼Œæœ‰ä¸¤ä¸ªæ¡ä»¶<ul><li>$(j; &amp; ;k) &#x3D; 0$</li><li>æ‰€æœ‰è¿ç»­ç©ºç€çš„ä½ç½®çš„é•¿åº¦å¿…é¡»æ˜¯å¶æ•°</li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
typedef long long LL;
const int N = 12, M = 1 &lt;&lt; N;
LL dp[N][M];
bool st[M]; // st[j | k] = 1 è¡¨ç¤ºèƒ½æˆåŠŸè½¬ç§»
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    int n, m;
    while(cin &gt;&gt; n &gt;&gt; m, n || m)&#123;
        // é¢„å¤„ç† st
        for(int i = 0; i &lt; 1 &lt;&lt; n; i++)&#123;
            st[i] = 1;
            int cnt = 0; // è®°å½•ä¸€åˆ—ä¸­ 0 çš„ä¸ªæ•°
            for(int j = 0; j &lt; n; j++)&#123;
                if(i &gt;&gt; j &amp; 1)&#123;
                    if(cnt &amp; 1)&#123;
                        st[i] = 0;
                        break;
                    &#125;
                &#125;else&#123;
                    cnt++;
                &#125;
            &#125;
            if(cnt &amp; 1) st[i] = 0;
        &#125;

        memset(dp, 0, sizeof(dp));
        dp[0][0] = 1;   // æ²¡æœ‰æ¨ªç€æ‘†æ”¾çš„å°æ–¹å—ï¼Œæ‰€æœ‰å°æ–¹å—éƒ½æ˜¯ç«–ç€æ‘†æ”¾çš„ï¼Œè®°å½•ä¸ºä¸€ç§çŠ¶æ€
        for(int i = 1; i &lt;= m; i++)&#123;
            for(int j = 0; j &lt; 1 &lt;&lt; n; j++)&#123;
                for(int k = 0; k &lt; 1 &lt;&lt; n; k++)&#123;
                    if((j &amp; k) == 0 &amp;&amp; st[j | k])&#123;
                        dp[i][j] += dp[i - 1][k];
                    &#125;
                &#125;
            &#125;
        &#125;
        cout &lt;&lt; dp[m][0] &lt;&lt; endl;   // æœ€åä¸€åˆ—ä¸ä¼šä¼¸å‡º
    &#125;
&#125;
</code></pre><h3 id="æœ€çŸ­-Hamilton-è·¯å¾„ğŸŒ¸"><a href="#æœ€çŸ­-Hamilton-è·¯å¾„ğŸŒ¸" class="headerlink" title="æœ€çŸ­ Hamilton è·¯å¾„ğŸŒ¸"></a>æœ€çŸ­ Hamilton è·¯å¾„ğŸŒ¸</h3><ul><li>çŠ¶æ€è¡¨ç¤º $f[i, j]$<ul><li>é›†åˆï¼šæ‰€æœ‰ä» $0$ èµ°åˆ° $j$ï¼Œèµ°è¿‡çš„æ‰€æœ‰ç‚¹æ˜¯ $i$ çš„æ‰€æœ‰è·¯å¾„</li><li>å±æ€§ï¼šMin</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li>$0 \to \cdots \to k \to j$ ä¸­ $k$ çš„æ‰€æœ‰æƒ…å†µï¼Œ$k$ è¡¨ç¤ºèµ°åˆ° $j$ ä¹‹å‰ï¼Œä»¥ $k$ ä¸ºç»ˆç‚¹çš„æœ€çŸ­è·ç¦»</li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 20, M = 1 &lt;&lt; N;
int n;
int w[N][N];
int dp[M][N];
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    cin &gt;&gt; n;
    for(int i = 0; i &lt; n; i++)&#123;
        for(int j = 0; j &lt; n; j++)&#123;
            cin &gt;&gt; w[i][j];
        &#125;
    &#125;
    memset(dp, 0x3f, sizeof(dp));
    dp[1][0] = 0;
    for(int i = 0; i &lt; 1 &lt;&lt; n; i++)&#123;
        for(int j = 0; j &lt; n; j++)&#123;
            if(i &gt;&gt; j &amp; 1)&#123;
                for(int k = 0; k &lt; n; k++)&#123;
                    if(i &gt;&gt; k &amp; 1)&#123;
                        dp[i][j] = min(dp[i][j], dp[i - (1 &lt;&lt; j)][k] + w[k][j]);
                    &#125;
                &#125;
            &#125;
        &#125;
    &#125;
    cout &lt;&lt; dp[(1 &lt;&lt; n) - 1][n - 1] &lt;&lt; endl;
&#125;
</code></pre><h3 id="AcWing-å°å›½ç‹"><a href="#AcWing-å°å›½ç‹" class="headerlink" title="AcWing|å°å›½ç‹"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA2Ni8=">AcWing|å°å›½ç‹</span></h3><ul><li>çŠ¶æ€è¡¨ç¤º $f[i, j, s]$<ul><li>é›†åˆï¼šæ‰€æœ‰åªæ‘†åœ¨å‰ $i$ è¡Œï¼Œå·²ç»æ‘†äº† $j$ ä¸ªå›½ç‹ï¼Œå¹¶ä¸”ç¬¬ $i$ è¡Œæ‘†æ”¾çš„çŠ¶æ€æ˜¯ $s$ çš„æ‰€æœ‰æ–¹æ¡ˆçš„é›†åˆã€‚</li><li>å±æ€§ï¼šCount</li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
typedef long long LL;
const int N = 12, M = 1 &lt;&lt; 10, K = 110;
vector&lt;int&gt; st;
int cnt[M];
vector&lt;int&gt; head[M];
LL dp[N][K][M];

int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    int n, m; cin &gt;&gt; n &gt;&gt; m;
    auto check = [&amp;n](int st)&#123;
        for(int i = 0; i &lt; n; i++)&#123;
            if((st &gt;&gt; i &amp; 1) &amp;&amp; (st &gt;&gt; (i + 1) &amp; 1)) return false;
        &#125;
        return true;
    &#125;;
    auto count = [&amp;n](int st)&#123;
        int res = 0;
        for(int i = 0; i &lt; n; i++)&#123;
            if(st &gt;&gt; i &amp; 1) res++;
        &#125;
        return res;
    &#125;;
    for(int i = 0; i &lt; 1 &lt;&lt; n; i++)&#123;
        if(check(i))&#123;
            st.push_back(i);
            cnt[i] = count(i);
        &#125;
    &#125;
    for(int i = 0; i &lt; st.size(); i++)&#123;
        for(int j = 0; j &lt; st.size(); j++)&#123;
            int a = st[i], b = st[j];
            if(check(a | b) &amp;&amp; (a &amp; b) == 0)&#123;
                head[i].push_back(j);
            &#125;
        &#125;
    &#125;
    dp[0][0][0] = 1;
    for(int i = 1; i &lt;= n + 1; i++)&#123;
        for(int j = 0; j &lt;= m; j++)&#123;
            for(int a = 0; a &lt; st.size(); a++)&#123;
                for(int b : head[a])&#123;
                    int c = cnt[st[a]];
                    if(j &gt;= c) dp[i][j][a] += dp[i - 1][j - c][b];
                &#125;
            &#125;
        &#125;
    &#125;
    cout &lt;&lt; dp[n + 1][m][0] &lt;&lt; endl;
&#125;
</code></pre><h3 id="AcWing-ç‰ç±³ç”°"><a href="#AcWing-ç‰ç±³ç”°" class="headerlink" title="AcWing|ç‰ç±³ç”°"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMzI5Lw==">AcWing|ç‰ç±³ç”°</span></h3><ul><li>çŠ¶æ€è¡¨ç¤º $f[i, s]$<ul><li>é›†åˆï¼šæ‰€æœ‰å·²ç»æ‘†å®Œå‰ $i$ è¡Œï¼Œä¸”ç¬¬ $i$ è¡Œçš„çŠ¶æ€æ˜¯ $s$ çš„æ‰€æœ‰æ‘†æ”¾æ–¹æ¡ˆçš„é›†åˆ</li><li>å±æ€§ï¼šCount</li></ul></li><li>å°†å›¾æŒ‰ç…§äºŒè¿›åˆ¶å­˜å‚¨ï¼Œè¿›è¡Œ<strong>ä¸æ“ä½œ</strong>å³å¯åˆ¤æ–­è¯¥çŠ¶æ€æ˜¯å¦åˆæ³•</li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
typedef long long LL;
const int N = 14, M = 1 &lt;&lt; 12, mod = 1e8;
int n, m;
int w[N];
vector&lt;int&gt; st;
vector&lt;int&gt; head[M];
int dp[N][M];
bool check(int st)&#123;
    for(int i = 0; i + 1 &lt; m; i++)&#123;
        if((st &gt;&gt; i &amp; 1) &amp;&amp; (st &gt;&gt; i + 1 &amp; 1)) return false;
    &#125;
    return true;
&#125;
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    cin &gt;&gt; n &gt;&gt; m;
    for(int i = 1; i &lt;= n; i++)&#123;
        for(int j = 0; j &lt; m; j++)&#123;
            int t; cin &gt;&gt; t;
            w[i] += !t * (1 &lt;&lt; j);
        &#125;
    &#125;
    for(int i = 0; i &lt; 1 &lt;&lt; m; i++) if(check(i)) st.push_back(i);
    for(int i = 0; i &lt; st.size(); i++)&#123;
        for(int j = 0; j &lt; st.size(); j++)&#123;
            int a = st[i], b = st[j];
            if(!(a &amp; b)) head[i].push_back(j);
        &#125;
    &#125;
    dp[0][0] = 1;
    for(int i = 1; i &lt;= n + 1; i++)&#123;
        for(int j = 0; j &lt; st.size(); j++)&#123;
            if(!(st[j] &amp; w[i]))&#123;
                for(int k : head[j])&#123;
                    dp[i][j] = (dp[i][j] + dp[i - 1][k]) % mod;
                &#125;
            &#125;
        &#125;
    &#125;
    cout &lt;&lt; dp[n + 1][0] &lt;&lt; endl;
&#125;
</code></pre><h3 id="AcWing-ç‚®å…µé˜µåœ°-ğŸŒ¸"><a href="#AcWing-ç‚®å…µé˜µåœ°-ğŸŒ¸" class="headerlink" title="AcWing|ç‚®å…µé˜µåœ° ğŸŒ¸"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMjk0Lw==">AcWing|ç‚®å…µé˜µåœ°</span> ğŸŒ¸</h3><ul><li>çŠ¶æ€è¡¨ç¤º $f[i, j, k]$<ul><li>é›†åˆï¼šæ‰€æœ‰å·²ç»æ‘†å®Œå‰ $i$ è¡Œï¼Œä¸”ç¬¬ $i - 1$ è¡Œçš„çŠ¶æ€æ˜¯ $j$ï¼Œç¬¬ $i$ è¡Œçš„çŠ¶æ€æ˜¯ $k$ çš„æ‰€æœ‰æ‘†æ”¾æ–¹æ¡ˆçš„æœ€å¤§å€¼</li><li>å±æ€§ï¼šMax</li></ul></li><li>å‡å¦‚å¼€å¤§æ•°ç»„çš„è¯ï¼Œç©ºé—´å¤æ‚åº¦ä¼šæ˜¯ $O(N \times 2^{M} \times 2^{M})$ ä¼šçˆ†å†…å­˜ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»ä½¿ç”¨æ»šåŠ¨æ•°ç»„</li><li>$a$ ä¸ºç¬¬ $i - 1$ è¡Œï¼Œ$b$ ä¸ºç¬¬ $i$ è¡Œï¼Œ$c$ ä¸ºç¬¬ $i - 2$ è¡Œ</li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 10, M = 1 &lt;&lt; 10;
int n, m;
int g[1010];
int dp[2][M][M];
vector&lt;int&gt; st;
int cnt[M];
bool check(int st)&#123;
    for(int i = 0; i &lt; m; i++)&#123;
        if((st &gt;&gt; i &amp; 1) &amp;&amp; ((st &gt;&gt; i + 1 &amp; 1) || (st &gt;&gt; i + 2 &amp; 1))) return false;
    &#125;
    return true;
&#125;
int count(int st)&#123;
    int res = 0;
    for(int i = 0; i &lt; m; i++)&#123;
        if(st &gt;&gt; i &amp; 1) res++;
    &#125;
    return res;
&#125;
int main()&#123;
    cin &gt;&gt; n &gt;&gt; m;
    for(int i = 1; i &lt;= n; i++)&#123;
        for(int j = 0; j &lt; m; j++)&#123;
            char c;
            cin &gt;&gt; c;
            g[i] += (c == &#39;H&#39;) &lt;&lt; j;
        &#125;
    &#125;
    for(int i = 0; i &lt; 1 &lt;&lt; m; i++)&#123;
        if(check(i))&#123;
            st.push_back(i);
            cnt[i] = count(i);
        &#125;
    &#125;
    for(int i = 1; i &lt;= n + 2; i++)&#123;
        for(int j = 0; j &lt; st.size(); j++)&#123; // ä¸Šä¸€è¡ŒçŠ¶æ€
            for(int k = 0; k &lt; st.size(); k++)&#123; // å½“å‰çŠ¶æ€
                for(int u = 0; u &lt; st.size(); u++)&#123; // å‰é¢ç¬¬ä¸¤è¡Œçš„çŠ¶æ€
                    int a = st[j], b = st[k], c = st[u];
                    if(a &amp; b | a &amp; c | b &amp; c) continue;
                    if(g[i] &amp; b | g[i - 1] &amp; a) continue;
                    dp[i &amp; 1][j][k] = max(dp[i &amp; 1][j][k], dp[(i - 1) &amp; 1][u][j] + cnt[b]);
                &#125;
            &#125;
        &#125;
    &#125;
    cout &lt;&lt; dp[n + 2 &amp; 1][0][0] &lt;&lt; endl;
&#125;
</code></pre><h3 id="AcWing-æ„¤æ€’çš„å°é¸ŸğŸŒ–"><a href="#AcWing-æ„¤æ€’çš„å°é¸ŸğŸŒ–" class="headerlink" title="AcWing|æ„¤æ€’çš„å°é¸ŸğŸŒ–"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvNTI2Lw==">AcWing|æ„¤æ€’çš„å°é¸Ÿ</span>ğŸŒ–</h3><ul><li>æœ¬é¢˜ä¸­æŠ›ç‰©çº¿ä¸¥æ ¼ç»è¿‡åŸç‚¹ï¼Œæ‰€ä»¥ $c$ ä¸º $0$ï¼Œæ‰€ä»¥åªéœ€è¦ä¸¤ä¸ªç‚¹å³å¯ç¡®å®šä¸€æ¡æŠ›ç‰©çº¿</li><li><code>path[i][j]</code> è¡¨ç¤ºç¼–å·ä¸º $i$ çš„å°çŒªå’Œç¼–å·ä¸º $j$ çš„å°çŒªæ‰€åœ¨çš„æŠ›ç‰©çº¿ï¼Œå˜é‡çš„å±æ€§ä¸ºè¿™ä¸ªæŠ›ç‰©çº¿å¯æ¶ˆç­çš„å°çŒªçš„äºŒè¿›åˆ¶è¡¨ç¤º</li><li>çŠ¶æ€è¡¨ç¤ºï¼š<code>dp[i]</code> è¡¨ç¤ºå½“å‰å‡»è´¥çŠ¶æ€ $i$ è¡¨ç¤ºçš„å°çŒªæ‰€éœ€è¦çš„æœ€å°‘çš„å°é¸Ÿ</li><li>çŠ¶æ€è®¡ç®—ï¼šæ‰¾åˆ° $i$ çŠ¶æ€ä¸‹æ²¡æœ‰è¢«æ¶ˆç­çš„å°çŒªçš„ç¼–å· $x$ï¼Œæšä¸¾å¯æ¶ˆç­å®ƒçš„æŠ›ç‰©çº¿ $path[x][j]$ å¹¶æ›´æ–°çŠ¶æ€<ul><li><code>dp[i | path[x][j]] = min(dp[i | path[x][j]], dp[i] + 1)</code></li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
typedef pair&lt;double, double&gt; PDD;
const int N = 19, M = 1 &lt;&lt; 18;
const double eps = 1e-8;
int n, m;
PDD q[N];
int path[N][N];
int dp[M];
int cmp(double x, double y)&#123;
    if(fabs(x - y) &lt; eps) return 0;
    if(x &lt; y) return -1;
    return 1;
&#125;
void solve()&#123;
    cin &gt;&gt; n &gt;&gt; m;
    for(int i = 0; i &lt; n; i++) cin &gt;&gt; q[i].first &gt;&gt; q[i].second;
    memset(path, 0, sizeof(path));
    for(int i = 0; i &lt; n; i++)&#123;
        path[i][i] = 1 &lt;&lt; i;
        for(int j = 0; j &lt; n; j++)&#123;
            double x1 = q[i].first, y1 = q[i].second;
            double x2 = q[j].first, y2 = q[j].second;
            if(!cmp(x1, x2)) continue;
            double a = (y1 / x1 - y2 / x2) / (x1 - x2);
            double b = y2 / x2 - a * x2;
            if(cmp(a, 0) &gt;= 0) continue;
            int st = 0;
            for(int k = 0; k &lt; n; k++)&#123;
                double x = q[k].first, y = q[k].second;
                if(!cmp(a * x * x + b * x, y)) st += 1 &lt;&lt; k;
            &#125;
            path[i][j] = st;
        &#125;
    &#125;
    memset(dp, 0x3f, sizeof(dp));
    dp[0] = 0;
    for(int i = 0; i + 1 &lt; 1 &lt;&lt; n; i++)&#123;
        int x = 0;
        for(int j = 0; j &lt; n; j++)&#123;
            if(!(i &gt;&gt; j &amp; 1))&#123;
                x = j;
                break;
            &#125;
        &#125;
        for(int j = 0; j &lt; n; j++)&#123;
            dp[i | path[x][j]] = min(dp[i | path[x][j]], dp[i] + 1);
        &#125;
    &#125;
    cout &lt;&lt; dp[(1 &lt;&lt; n) - 1] &lt;&lt; endl;
&#125;
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    int t; cin &gt;&gt; t;
    while(t--) solve();
&#125;
</code></pre><hr><h2 id="æ ‘å½¢-DP"><a href="#æ ‘å½¢-DP" class="headerlink" title="æ ‘å½¢ DP"></a>æ ‘å½¢ DP</h2><h3 id="æ²¡æœ‰ä¸Šå¸çš„èˆä¼šğŸŒ¸"><a href="#æ²¡æœ‰ä¸Šå¸çš„èˆä¼šğŸŒ¸" class="headerlink" title="æ²¡æœ‰ä¸Šå¸çš„èˆä¼šğŸŒ¸"></a>æ²¡æœ‰ä¸Šå¸çš„èˆä¼šğŸŒ¸</h3><ul><li>çŠ¶æ€è¡¨ç¤º $f[u][0&#x2F;1]$<ul><li>é›†åˆï¼šæ‰€æœ‰ä»ä»¥ $u$ ä¸ºæ ¹çš„å­æ ‘ä¸­é€‰æ‹©ï¼Œå¹¶ä¸”ä¸é€‰ $u$ è¿™ä¸ªç‚¹çš„æ–¹æ¡ˆï¼Œæ‰€æœ‰ä»ä»¥ $u$ ä¸ºæ ¹çš„å­æ ‘ä¸­é€‰ï¼Œå¹¶ä¸”é€‰æ‹© $u$ è¿™ä¸ªç‚¹çš„æ–¹æ¡ˆ</li><li>å±æ€§ï¼šæœ€å¤§å€¼</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li>ä¸é€‰å½“å‰ç‚¹ $u$ï¼Œå¯ä»¥é€‰æ‹©ä»–çš„å­èŠ‚ç‚¹ $s$ï¼Œä¹Ÿå¯ä»¥ä¸é€‰ï¼Œ$f[u][0] +&#x3D; max (f[s_i][0], f[s_i][1])$</li><li>é€‰æ‹©å½“å‰ç‚¹ $u$ï¼Œä»–çš„å­èŠ‚ç‚¹ $s$ ä¸€å®šä¸èƒ½é€‰ï¼Œ$f[u][1] +&#x3D; f[s_i][0]$</li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 6010;
int f[N][2];
int happy[N];
bool has_father[N];
int h[N], e[N], ne[N], idx;
void add(int a, int b)&#123;
    e[idx] = b, ne[idx] = h[a], h[a] = idx++;
&#125;
void dfs(int u)&#123;
    f[u][1] = happy[u];
    for(int i = h[u]; ~i; i = ne[i])&#123;
        int j = e[i];
        dfs(j);
        f[u][0] += max(f[j][1], f[j][0]);
        f[u][1] += f[j][0];
    &#125;
&#125;
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    memset(h, -1, sizeof(h));
    int n;
    cin &gt;&gt; n;
    for(int i = 1; i &lt;= n; i++)&#123;
        cin &gt;&gt; happy[i];
    &#125;
    for(int i = 1; i &lt; n; i++)&#123;
        int a, b;
        cin &gt;&gt; a &gt;&gt; b;
        add(b, a);
        has_father[a] = 1;
    &#125;
    int root = 1;
    while(has_father[root])&#123;
        root++;
    &#125;
    dfs(root);
    cout &lt;&lt; max(f[root][0], f[root][1]) &lt;&lt; &#39;\n&#39;;
&#125;
</code></pre><h3 id="AcWing-æ ‘çš„æœ€é•¿è·¯å¾„"><a href="#AcWing-æ ‘çš„æœ€é•¿è·¯å¾„" class="headerlink" title="AcWing|æ ‘çš„æœ€é•¿è·¯å¾„"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA3NC8=">AcWing|æ ‘çš„æœ€é•¿è·¯å¾„</span></h3><ul><li>æ‰¾æ ‘çš„ç›´å¾„ï¼Œè¾¹æƒä¸º 1<ul><li>ä»»å–ä¸€ç‚¹ä¸ºèµ·ç‚¹ï¼Œæ‰¾åˆ°è·ç¦»è¯¥ç‚¹æœ€è¿œçš„ä¸€ä¸ªç‚¹ $u$ DFS&#x2F;BFS</li><li>å†æ‰¾åˆ°è·ç¦» $u$ æœ€è¿œçš„ä¸€ç‚¹ $v$ DFS&#x2F;BFS</li><li>$u$ å’Œ $v$ ä¹‹é—´çš„è·¯å¾„å°±æ˜¯ä¸€æ¡ç›´å¾„</li></ul></li><li>æœ¬é¢˜è¾¹æƒæœ‰æ­£è´Ÿï¼Œæ•…ç”¨æ ‘å½¢ DP è§£å†³</li><li>æšä¸¾è·¯å¾„çš„ä¸­é—´èŠ‚ç‚¹</li><li>è§‚å¯Ÿä¸­é—´çš„æŸä¸€ä¸ªç‚¹ï¼Œé‚£ä¹ˆç»è¿‡ä»–çš„è·¯å¾„æœ‰ï¼š<ol><li>ä»¥å…¶å­æ ‘ä¸­çš„æŸä¸ªèŠ‚ç‚¹ä½œä¸ºèµ·ç‚¹ï¼Œä»¥ä»–ä½œä¸ºç»ˆç‚¹çš„ç²‰è‰²è·¯å¾„</li><li>ä»¥å…¶å­æ ‘ä¸­çš„æŸä¸ªèŠ‚ç‚¹ä½œä¸ºèµ·ç‚¹ï¼Œä»¥å­æ ‘ä¸­çš„æŸä¸ªèŠ‚ç‚¹ä½œä¸ºç»ˆç‚¹çš„è“è‰²è·¯å¾„</li><li>ä»¥å…¶å­æ ‘ä¸­çš„æŸä¸ªèŠ‚ç‚¹ä½œä¸ºèµ·ç‚¹ï¼Œä»¥éå…¶å­æ ‘çš„èŠ‚ç‚¹ä½œä¸ºç»ˆç‚¹çš„æ©™è‰²è·¯å¾„</li></ol></li><li>å¯¹äºç¬¬ $1$ ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€’å½’å¤„ç†å…¶å­æ ‘ï¼Œæ‰¾å‡ºåˆ°å½“å‰å­æ ‘æ ¹èŠ‚ç‚¹æœ€é•¿çš„è·¯å¾„é•¿åº¦å³å¯</li><li>å¯¹äºç¬¬ $2$ ç§æƒ…å†µï¼Œæˆ‘ä»¬åœ¨å¤„ç†ç¬¬ $1$ ç§æƒ…å†µæ—¶ï¼Œé¡ºä¾¿æ‰¾å‡º $1$ ç±»è·¯å¾„çš„æ¬¡é•¿è·¯å¾„</li><li>æŠŠæœ€é•¿å’Œæ¬¡é•¿æ‹¼åœ¨ä¸€èµ·ï¼Œå°±æ˜¯æˆ‘ä»¬è¦çš„ç¬¬ $2$ ç§æƒ…å†µ</li><li>è€Œå¯¹äºç¬¬ $3$ ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒå½’ç±»ä¸ºå…¶ç¥–å…ˆèŠ‚ç‚¹çš„ç¬¬ $1,2$ ç§æƒ…å†µï¼Œè®©å…¶ç¥–å…ˆèŠ‚ç‚¹å»å¤„ç†å³å¯</li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 10010, M = 2 * N;
int h[N], e[M], ne[M], w[M], idx;
int ans;
void add(int a, int b, int c)&#123;
    e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx++;
&#125;
int dfs(int u, int fa)&#123;
    int dist = 0;   // è¡¨ç¤ºä»å½“å‰ç‚¹å¾€ä¸‹èµ°çš„æœ€å¤§é•¿åº¦
    int d1 = 0, d2 = 0;
    for(int i = h[u]; ~i; i = ne[i])&#123;
        int j = e[i];
        if(j == fa) continue;
        int d = dfs(j, u) + w[i];
        dist = max(dist, d);
        if(d &gt; d1) d2 = d1, d1 = d;
        else if(d &gt; d2) d2 = d;
    &#125;
    ans = max(ans, d1 + d2);
    return dist;
&#125;
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    int n; cin &gt;&gt; n;
    memset(h, -1, sizeof(h));
    for(int i = 1; i &lt; n; i++)&#123;
        int a, b, c;
        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;
        add(b, a, c);
        add(a, b, c);
    &#125;
    dfs(1, -1);
    cout &lt;&lt; ans &lt;&lt; &#39;\n&#39;;
&#125;
</code></pre><h3 id="AcWing-æ ‘çš„ä¸­å¿ƒ"><a href="#AcWing-æ ‘çš„ä¸­å¿ƒ" class="headerlink" title="AcWing|æ ‘çš„ä¸­å¿ƒ"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA3NS8=">AcWing|æ ‘çš„ä¸­å¿ƒ</span></h3><ul><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9zb2x1dGlvbi9jb250ZW50LzY4MjUv">è¯¦ç»†é¢˜è§£</span></li><li>æœ¬é¢˜å³ç”¨åˆ°äº†ç”¨å­èŠ‚ç‚¹æ›´æ–°çˆ¶èŠ‚ç‚¹ä¿¡æ¯çš„æ™®éæƒ…å†µï¼Œåˆç”¨åˆ°äº†ç”¨çˆ¶èŠ‚ç‚¹æ›´æ–°å­èŠ‚ç‚¹çš„æƒ…å†µ</li><li>é¦–å…ˆåˆ†æé¢˜ç›®ï¼Œå…¶å®æ˜¯è¦æˆ‘ä»¬æŠŠæ¯ä¸€ä¸ªç‚¹åˆ°å…¶ä»–ç‚¹çš„æœ€é•¿è·ç¦»æ±‚å‡ºæ¥ï¼Œå†æ±‚ä¸€ä¸ªå…¶ä¸­æœ€çŸ­çš„å°±å¯ä»¥äº†ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹æ¯ä¸€ä¸ªç‚¹å¯ä»¥å†æ ‘ä¸Šæ€ä¹ˆèµ°ï¼Œå…¶å®å°±æ˜¯å‘ä¸Šå’Œå‘ä¸‹èµ°</li><li>æˆ‘ä»¬ç”¨ $d1[u], d2[u], up[u], p1[u], p2[u]$åˆ†åˆ«å­˜ä¸€ä¸‹éœ€è¦çš„ä¿¡æ¯ï¼Œè¿™äº›æ•°æ®å­˜çš„æ˜¯ï¼š<ul><li>$d1[u]$ï¼šå­˜ä¸‹ $u$ èŠ‚ç‚¹å‘ä¸‹èµ°çš„æœ€é•¿è·¯å¾„çš„é•¿åº¦</li><li>$d2[u]$ï¼šå­˜ä¸‹ $u$ èŠ‚ç‚¹å‘ä¸‹èµ°çš„ç¬¬äºŒé•¿çš„è·¯å¾„çš„é•¿åº¦</li><li>$p1[u]$ï¼šå­˜ä¸‹ $u$ èŠ‚ç‚¹å‘ä¸‹èµ°çš„æœ€é•¿è·¯å¾„æ˜¯ä»å“ªä¸€ä¸ªèŠ‚ç‚¹ä¸‹å»çš„</li><li>$p2[u]$ï¼šå­˜ä¸‹ $u$ èŠ‚ç‚¹å‘ä¸‹èµ°çš„ç¬¬äºŒé•¿çš„è·¯å¾„æ˜¯ä»å“ªä¸€ä¸ªèŠ‚ç‚¹èµ°ä¸‹å»çš„</li><li>$up[u]$ï¼šå­˜ä¸‹ $u$ èŠ‚ç‚¹å‘ä¸Šèµ°çš„æœ€é•¿è·¯å¾„çš„é•¿åº¦</li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 10010, M = 2 * N, INF = 0x3f3f3f3f;
int h[N], e[M], ne[M], w[M], idx;
int d1[N], d2[N], p1[N], p2[N], up[N];
void add(int a, int b, int c)&#123;
    e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx++;
&#125;
int dfs_d(int u, int fa)&#123;
    d1[u] = d2[u] = -INF;
    for(int i = h[u]; ~i; i = ne[i])&#123;
        int j = e[i];
        if(j == fa) continue;
        int d = dfs_d(j, u) + w[i];
        if(d &gt; d1[u])&#123;
            d2[u] = d1[u], d1[u] = d;
            p2[u] = p1[u], p1[u] = j;
        &#125;else if(d &gt; d2[u])&#123;
            d2[u] = d;
            p2[u] = j;
        &#125;
    &#125;
    if(d1[u] == -INF) d1[u] = d2[u] = 0;
    return d1[u];
&#125;
void dfs_u(int u, int s)&#123;
    for(int i = h[u]; ~i; i = ne[i])&#123;
        int j = e[i];
        if(j == s) continue;
        if(p1[u] == j) up[j] = max(up[u], d2[u]) + w[i];
        else up[j] = max(up[u], d1[u]) + w[i];
        dfs_u(j, u);
    &#125;
&#125;
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    int n; cin &gt;&gt; n;
    memset(h, -1, sizeof(h));
    for(int i = 1; i &lt; n; i++)&#123;
        int a, b, c;
        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;
        add(b, a, c);
        add(a, b, c);
    &#125;
    dfs_d(1, -1);
    dfs_u(1, -1);
    int ans = INF;
    for(int i = 1; i &lt;= n; i++)&#123;
        ans = min(ans, max(d1[i], up[i]));
    &#125;
    cout &lt;&lt; ans &lt;&lt; &#39;\n&#39;;
&#125;
</code></pre><h3 id="AcWing-æ•°å­—è½¬æ¢"><a href="#AcWing-æ•°å­—è½¬æ¢" class="headerlink" title="AcWing|æ•°å­—è½¬æ¢"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA3Ny8=">AcWing|æ•°å­—è½¬æ¢</span></h3><ul><li>ç”±äºä»»æ„æ­£æ•´æ•° $x$ï¼Œçš„çº¦æ•°ä¹‹å’Œæ˜¯å”¯ä¸€çš„ï¼Œä¸”æœ¬é¢˜è¦æ±‚åªåˆçº¦æ•°ä¹‹å’Œå°äºè‡ªèº«æ‰èƒ½è½¬æ¢ï¼Œæ•…å¯¹äºæ‰€æœ‰çš„ $x$ æ¥è¯´ï¼Œä»–å‘å°äºè‡ªå·±çš„æ•°è½¬æ¢çš„è¾¹è‡³å¤šåªæœ‰ä¸€æ¡ï¼Œé‚£å°±æ˜¯ $x$ çš„çº¦æ•°ä¹‹å’Œ $xâ€²(xâ€²&lt;x)$</li><li>å»ºå¥½å›¾åï¼Œæœ¬é¢˜å³å¯è½¬æ¢æˆåœ¨ä¸€ä¸ªæ£®æ—ä¸­ï¼Œæ‰¾å‡ºä¸€ä¸ªç›´å¾„æœ€é•¿çš„æ ‘ï¼Œå¹¶æ±‚å®ƒçš„ç›´å¾„</li><li>å¤„ç†çº¦æ•°ä¹‹å’Œæ—¶ï¼Œéœ€è¦è¿ç”¨ç­›æ³•çš„æ€æƒ³ï¼Œå¯ä»¥é™ä½æ—¶é—´å¤æ‚åº¦</li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 50010;
int h[N], e[N], ne[N], idx;
int sum[N];
bool st[N];
int ans;
void add(int a, int b)&#123;
    e[idx] = b, ne[idx] = h[a], h[a] = idx++;
&#125;
int dfs(int u)&#123;
    int d1 = 0, d2 = 0;
    for(int i = h[u]; ~i; i = ne[i])&#123;
        int j = e[i];
        int d = dfs(j) + 1;
        if(d &gt; d1) d2 = d1, d1 = d;
        else if(d &gt; d2) d2 = d;
    &#125;
    ans = max(ans, d1 + d2);
    return d1;
&#125;
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    int n;
    cin &gt;&gt; n;
    for(int i = 1; i &lt;= n; i++)&#123;
        for(int j = 2; j &lt;= n / i; j++)&#123;
            sum[i * j] += i;
        &#125;
    &#125;
    memset(h, -1, sizeof(h));
    for(int i = 2; i &lt;= n; i++)&#123;
        if(i &gt; sum[i])&#123;
            add(sum[i], i);
            st[i] = 1;
        &#125;
    &#125;
    for(int i = 1; i &lt;= n; i++)&#123;
        if(!st[i])&#123;
            dfs(i);
        &#125;
    &#125;
    cout &lt;&lt; ans &lt;&lt; &#39;\n&#39;;
&#125;
</code></pre><h3 id="AcWing-äºŒå‰è‹¹æœæ ‘"><a href="#AcWing-äºŒå‰è‹¹æœæ ‘" class="headerlink" title="AcWing|äºŒå‰è‹¹æœæ ‘"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA3Ni8=">AcWing|äºŒå‰è‹¹æœæ ‘</span></h3><ul><li>é¢˜ç›®æœ¬èº«æ˜¯æœ‰ä¾èµ–çš„èƒŒåŒ…æ¨¡å‹ï¼ŒåŒºåˆ«åœ¨äºæŠŠç‰©å“ä»·å€¼åˆ†ç»™äº†è¾¹è€Œä¸æ˜¯ç‚¹</li><li>å¯¹äºä¸€æ£µæ ‘æ¥è¯´ï¼Œä»»æ„èŠ‚ç‚¹çš„å…¥è¾¹ï¼ˆè¿å‘çˆ¶èŠ‚ç‚¹çš„è¾¹ï¼‰éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥è¾¹æƒå’Œç‚¹æƒåœ¨ç¡®å®šæ ‘çš„æ ¹èŠ‚ç‚¹ä¹‹åï¼Œå¯ä»¥è§†ä½œä¸€ä¸ªä¸œè¥¿ï¼ˆå°†å…¥è¾¹ä»·å€¼è§†ä½œè¯¥ç‚¹ä»·å€¼ï¼‰</li><li>å¯¹äºæœ¬é¢˜æ¥è¯´ï¼Œåˆ†ç»„èƒŒåŒ…é›†åˆåˆ’åˆ†ä¼šå¯¼è‡´è¶…æ—¶ï¼Œå› æ­¤é‡‡ç”¨ä½“ç§¯é›†åˆåˆ’åˆ†</li><li>çŠ¶æ€è¡¨ç¤º $f[i][j]$<ul><li>é›†åˆï¼šä»¥ $i$ ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ï¼ŒåŒ…å« $i$ çš„è¿é€šå—çš„è¾¹æ•°ä¸è¶…è¿‡ $j$ çš„æ–¹æ¡ˆ</li><li>å±æ€§ï¼šæœ€å¤§å€¼</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li>$f_{i,j} &#x3D; max\left { f_{i, j - 1 - k} + f_{son_i,k} + w_{edge_i} \right } ;;; k \in [0,j - 1]$</li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 110, M = N &lt;&lt; 1;
int h[N], e[M], ne[M], w[M], idx;
int f[N][N];
int n, m;
void add(int a, int b, int c)&#123;
    e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx++;
&#125;
void dfs(int u, int fa)&#123;
    for(int i = h[u]; ~i; i = ne[i])&#123;
        if(e[i] == fa) continue;
        dfs(e[i], u);
        for(int j = m; j &gt;= 0; j--)&#123;
            for(int k = 0; k &lt;= j - 1; k++)&#123;
                f[u][j] = max(f[u][j], f[u][j - k - 1] + f[e[i]][k] + w[i]);
            &#125;
        &#125;
    &#125;
&#125;
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    cin &gt;&gt; n &gt;&gt; m;
    memset(h, -1, sizeof(h));
    for(int i = 1; i &lt; n; i++)&#123;
        int a, b, c;
        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;
        add(b, a, c);
        add(a, b, c);
    &#125;
    dfs(1, -1);
    cout &lt;&lt; f[1][m] &lt;&lt; &#39;\n&#39;;
&#125;
</code></pre><h3 id="AcWing-æˆ˜ç•¥æ¸¸æˆ"><a href="#AcWing-æˆ˜ç•¥æ¸¸æˆ" class="headerlink" title="AcWing|æˆ˜ç•¥æ¸¸æˆ"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMzI1Lw==">AcWing|æˆ˜ç•¥æ¸¸æˆ</span></h3><ul><li>æ¯æ¡è¾¹ä¸Šæœ€å°‘é€‰æ‹©ä¸€ä¸ªç‚¹ï¼Œæ±‚æœ€å°æƒå€¼</li><li>çŠ¶æ€è¡¨ç¤º $f[i][0&#x2F;1]$<ul><li>é›†åˆï¼šæ‰€æœ‰åœ¨ä»¥ $i$ ä¸ºæ ¹çš„å­æ ‘ä¸­é€‰ï¼Œä¸”ç‚¹ $i$ çš„çŠ¶æ€æ˜¯ $j$ çš„æ‰€æœ‰é€‰æ³•</li><li>å±æ€§ï¼šæœ€å°å€¼</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li>$f[i][0]$ï¼Œä¸é€‰æ‹©å½“å‰ç‚¹çš„æ–¹æ¡ˆï¼Œ$f[i][0] &#x3D; min(\sum f[son_i][1])$</li><li>$f[i][1]$ï¼Œé€‰æ‹©å½“å‰ç‚¹çš„æ–¹æ¡ˆï¼Œ$f[i][1] &#x3D; min(\sum min(f[son_i][1], f[son_i][0]))$</li></ul></li><li><img data-src="https://cdn.acwing.com/media/article/image/2021/09/09/55909_968c7bc211-79306FEB-FC94-4BAB-95D3-327AECCCECEF(20210909-222.PNG)" alt="æˆ˜ç•¥æ¸¸æˆ"></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 1510;

int h[N], e[N], ne[N], idx;
int f[N][2];
bool has_father[N];
void add(int a, int b)&#123;
    e[idx] = b, ne[idx] = h[a], h[a] = idx++;
&#125;
void dfs(int u)&#123;
    f[u][0] = 0;
    f[u][1] = 1;
    for(int i = h[u]; ~i; i = ne[i])&#123;
        int j = e[i];
        dfs(j);
        f[u][0] += f[j][1];
        f[u][1] += min(f[j][0], f[j][1]);
    &#125;
&#125;
int main()&#123;
    int n;
    while(~scanf(&quot;%d&quot;, &amp;n))&#123;
        memset(h, -1, sizeof(h));
        idx = 0;
        memset(has_father, 0, sizeof(has_father));
        for(int i = 1; i &lt;= n; i++)&#123;
            int a, b ,c;
            scanf(&quot;%d:(%d) &quot;, &amp;a, &amp;c);
            while(c--)&#123;
                scanf(&quot;%d&quot;, &amp;b);
                add(a, b);
                has_father[b] = 1;
            &#125;
        &#125;
        int root = 0;
        while(has_father[root])&#123;
            root++;
        &#125;
        dfs(root);
        printf(&quot;%d\n&quot;, min(f[root][0], f[root][1]));
    &#125;
&#125;
</code></pre><h3 id="AcWing-çš‡å®«çœ‹å®ˆğŸŒ–"><a href="#AcWing-çš‡å®«çœ‹å®ˆğŸŒ–" class="headerlink" title="AcWing|çš‡å®«çœ‹å®ˆğŸŒ–"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA3OS8=">AcWing|çš‡å®«çœ‹å®ˆ</span>ğŸŒ–</h3><ul><li>åœ¨æˆ˜ç•¥æ¸¸æˆä¸­ï¼Œé¢˜ç›®è¦æ±‚çš„æ”¾ç½®æ–¹æ¡ˆæ˜¯æ¯æ¡è¾¹éƒ½è¢«è§‚å¯Ÿåˆ°ï¼Œè€Œæœ¬é¢˜åˆ™æ˜¯è¦æ±‚æ¯ä¸ªç‚¹éƒ½è¢«è§‚å¯Ÿåˆ°ï¼Œå› æ­¤åŒæ ·ä½¿ç”¨æ ‘å½¢ DP</li><li>å¦‚æœåªæ˜¯è¦æ±‚ æ¯æ¡è¾¹ è¢« è§‚å¯Ÿ åˆ°ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨å¤„ç† çˆ¶èŠ‚ç‚¹ æ—¶ï¼Œæšä¸¾åˆ°ä¸€ä¸ª å­èŠ‚ç‚¹ å°±å¯ä»¥ç›´æ¥è¿›è¡Œè®¨è®º<ul><li>çˆ¶èŠ‚ç‚¹æ”¾ç½®å“¨å…µï¼Œæ‰€æœ‰å­èŠ‚ç‚¹éƒ½å¯æ”¾å¯ä¸æ”¾å“¨å…µ</li><li>çˆ¶èŠ‚ç‚¹ä¸æ”¾å“¨å…µï¼Œæ‰€æœ‰å­èŠ‚ç‚¹éƒ½è¦æ”¾ç½®å“¨å…µ</li></ul></li><li>ä½†æ˜¯åœ¨æœ¬é¢˜çš„è¦æ±‚ä¸­ï¼Œæ¯æ¡è¾¹å˜æˆäº†æ¯ä¸ªç‚¹å°±ä¼šå‡ºç°å¦‚ä¸‹ä¸‰ç§æƒ…å†µ<ul><li>çˆ¶èŠ‚ç‚¹æ”¾ç½®å“¨å…µï¼Œæ‰€æœ‰å­èŠ‚ç‚¹éƒ½å¯æ”¾å¯ä¸æ”¾å“¨å…µ</li><li>çˆ¶èŠ‚ç‚¹ä¸æ”¾å“¨å…µï¼Œä½†æ˜¯ä»–è‡³å°‘æœ‰ä¸€ä¸ªå­èŠ‚ç‚¹æ”¾ç½®å“¨å…µï¼Œè§‚å¯Ÿä»–</li><li>çˆ¶èŠ‚ç‚¹ä¸æ”¾å“¨å…µï¼Œä½†çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ”¾ç½®å“¨å…µè§‚å¯Ÿï¼Œåˆ™å­èŠ‚ç‚¹å¯æ”¾å¯ä¸æ”¾å“¨å…µ</li></ul></li><li>å› æ­¤çŠ¶æ€æœºæ¨¡å‹å¦‚ä¸‹<ol><li>è¢«çˆ¶èŠ‚ç‚¹è§‚å¯Ÿï¼ˆ0ï¼‰</li><li>è¢«å­èŠ‚ç‚¹è§‚å¯Ÿï¼ˆ1ï¼‰</li><li>è¢«è‡ªå·±è§‚å¯Ÿï¼ˆ2ï¼‰</li></ol><ul><li><img data-src="https://cdn.acwing.com/media/article/image/2021/09/13/55909_d25b0f1713-EB1FDF4E-0D6A-4A7A-8FCF-D0F21B94443C(20210913-001.PNG)"></li></ul></li><li>çŠ¶æ€è¡¨ç¤º $f[i][0&#x2F;1&#x2F;2]$<ul><li>é›†åˆï¼šä»¥ç»“ç‚¹ $i$ ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ï¼Œåœ¨ $i$ ç‚¹ï¼ŒçŠ¶æ€ä¸º $j$ çš„æ–¹æ¡ˆ</li><li>å±æ€§ï¼šæœ€å°å€¼</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li>$f[i][0] &#x3D; \sum min(f[son_i][1], f[son_i][2]);$</li><li>$f[i][1] &#x3D; min(f[son_i][2] + \sum min(f[son_j][1], f[son_j][2])) ;;;(i \neq j)$</li><li>$f[i][2] &#x3D; \sum min\left {f[son_i][0], f[son_i][1], f[son_i][2] \right } + w_i$</li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 1510;
int h[N], e[N], ne[N], w[N], idx;
int f[N][3];
bool st[N];

void add(int a, int b)&#123;
    e[idx] = b, ne[idx] = h[a], h[a] = idx++;
&#125;
void dfs(int u)&#123;
    f[u][0] = 0;
    f[u][1] = 0x3f3f3f3f;   // f[u][1] æ±‚æœ€å°å€¼ï¼Œåˆå§‹åŒ–ä¸ºæœ€å¤§å€¼
    f[u][2] = w[u];
    for(int i = h[u]; ~i; i = ne[i])&#123;
        int j = e[i];
        dfs(j);
        f[u][0] += min(f[j][1], f[j][2]);
        f[u][2] += min(min(f[j][0], f[j][1]), f[j][2]);
    &#125;
    for(int i = h[u]; ~i; i = ne[i])&#123;
        int j = e[i];
        // f[u][0] ä¸­è®°å½•äº† sum(min(f[j][1], f[j][2])), å†ä»ä¸­å‡å»å¯¹åº”è´¡çŒ®å³å¯å¾—åˆ°å‰©ä½™çš„
        f[u][1] = min(f[u][1], f[u][0] + f[j][2] - min(f[j][1], f[j][2]));
    &#125;
&#125;
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    memset(h, -1, sizeof(h));
    int n;
    cin &gt;&gt; n;
    for(int i = 1; i &lt;= n; i++)&#123;
        int id, cnt, cost;
        cin &gt;&gt; id &gt;&gt; cost &gt;&gt; cnt;
        w[id] = cost;
        while(cnt--)&#123;
            int ver;
            cin &gt;&gt; ver;
            add(id, ver);
            st[ver] = 1;
        &#125;
    &#125;
    int root = 1;
    while(st[root])&#123;
        root++;
    &#125;
    dfs(root);
    cout &lt;&lt; min(f[root][1], f[root][2]) &lt;&lt; &#39;\n&#39;;
&#125;
</code></pre><hr><h2 id="æ•°ä½-DP"><a href="#æ•°ä½-DP" class="headerlink" title="æ•°ä½ DP"></a>æ•°ä½ DP</h2><ul><li>ä½¿ç”¨<ul><li>æ±‚æ»¡è¶³ä¸€ä¸ªæ€§è´¨çš„æ‰€æœ‰æ•°æ—¶ä½¿ç”¨ã€‚</li></ul></li><li>æŠ€å·§<ul><li>$[X, Y] ; -&gt; ; f (Y) - f (X - 1)$</li><li>ä»æ ‘çš„è§’åº¦æ¥è€ƒè™‘, æŠŠæ•´ä¸ªæ•°æ‹†æˆæ¯ä¸€ä½ï¼Œä»æœ€é«˜ä½å‘æœ€ä½ä½çœ‹ã€‚è®¾å½“å‰è¿™ä¸€ä½ä¸º $x$ï¼Œåˆ™å½“å‰ä½åˆ†æˆ $[0, x)$ å’Œ $x$ ä¸¤ç§æƒ…å†µï¼Œå³ä¸ºæ ‘çš„ä¸¤ä¸ªåˆ†æ”¯ï¼Œå·¦åˆ†æ”¯å¤§å¤šéƒ½èƒ½é€šè¿‡å…¬å¼è·å¾—ã€‚ç­”æ¡ˆå³ä¸ºæ ‘çš„å…¨éƒ¨å·¦åˆ†æ”¯åŠ èµ·æ¥å†åŠ ä¸Šæœ€å³çš„å¶å­ã€‚</li></ul></li><li>æ¨¡æ¿<ul><li>é¢„å¤„ç†é€šå¸¸ä¸º DP æˆ–ç»„åˆæ•°ã€‚åœ¨åˆ†ç±»è®¨è®ºè®¡ç®—ç­”æ¡ˆæ—¶ï¼Œå’Œé¢„å¤„ç†çš„ DP è¿‡ç¨‹ç±»ä¼¼ã€‚</li></ul></li></ul><pre><code class="cpp">void init() // æ ¹æ®é¢˜æ„åšé¢„å¤„ç†ã€‚
&#123;
    for(int i = 0; i &lt;= 9; i ++) // å¯¹ç¬¬ä¸€ä½åˆå§‹åŒ–
        f[1][i] = 1;

    // DPè¿‡ç¨‹
&#125;

int dp(int n)
&#123;
    if(!n) return 1;
    vector&lt;int&gt; num;
    // å–å‡ºæ¯ä¸€ä½æ•°å­—ï¼Œå¯ä»¥æ ¹æ®è¿›åˆ¶è½¬åŒ–é—®é¢˜æ›¿æ¢ 10
    while(n) num.push_back(n % 10), n /= 10; 
    n = num.size();

    LL ans = 0;
    int last = 0;
    for(int i = n - 1; i &gt;= 0; i --)
    &#123;
        int x = num[i];

        // åˆ†ç±»è®¨è®º
    &#125;

    return ans;
&#125;
</code></pre><h3 id="AcWing-åº¦çš„æ•°é‡"><a href="#AcWing-åº¦çš„æ•°é‡" class="headerlink" title="AcWing|åº¦çš„æ•°é‡"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA4My8=">AcWing|åº¦çš„æ•°é‡</span></h3><ul><li>é¦–å…ˆæˆ‘ä»¬æŠŠæ•°å­— $n$ å¯¹äº $B$ è¿›åˆ¶æ¥è¿›è¡Œåˆ†è§£ï¼Œå°†æ¯ä¸€ä½ä¸Šçš„æ•°å­—å­˜å…¥ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œç„¶åä»é«˜ä½å¾€ä½ä½å»è®¨è®ºï¼Œ</li><li>å¯¹äºç¬¬ $i$ ä½æ•°å­— $x$ æœ‰ä¸‰ç§æƒ…å†µ<ul><li>$x &#x3D; 0$ ï¼šåˆ™ $i$ ä½ä¸Šåªèƒ½å– $0$ ï¼Œæ‰€ä»¥ç›´æ¥è®¨è®º $i-1$ ä½å°±å¯ä»¥äº†</li><li>$x &#x3D; 1$ ï¼šåˆ™ $i$ ä½ä¸Šå– $0$ çš„æ—¶å€™ï¼Œåé¢ $i-1$ ä½éƒ½å¯ä»¥éšæ„å–å€¼ï¼Œå– $1$ çš„æ—¶å€™ï¼Œåé¢ $i- 1$ ä½è¦å†å°äºé¢˜ç›®çš„æ•°çš„å‰æä¸‹å–å€¼ï¼Œå¹¶ä¸”èƒ½å– $k-last-1$ ä¸ª $1$</li><li>$x &gt; 1$ ï¼šåˆ™ $i$ ä½ä¸Šå¯ä»¥å– $1$ ï¼Œ$0$ ï¼Œå¹¶ä¸”åé¢ $i-1$ ä½å¯ä»¥éšä¾¿å–ã€‚</li></ul></li><li>è¿™é‡Œ $i-1$ ä½éšä¾¿å–å’Œå¯¹äº $i-1$ ä½è®¨è®ºçš„åŒºåˆ«ï¼Œå°±ä½“ç°åœ¨å‰ä¸€ä¸ªç›´æ¥ç”¨ç»„åˆæ•° $f[i-1][k-last]$ å°±å¯ä»¥ï¼Œåé¢åˆ™éœ€è¦å†è¿›å…¥å¾ªç¯å»è®¨è®ºã€‚</li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 35;
int f[N][N];
int K, B;
void init()&#123;
    for(int i = 0; i &lt; N; i++)&#123;
        for(int j = 0; j &lt;= i; j++)&#123;
            if(!j) f[i][j] = 1;
            else f[i][j] = f[i - 1][j] + f[i - 1][j - 1];
        &#125;
    &#125;
&#125;
int dp(int n)&#123;
    if(!n) return 0;
    vector&lt;int&gt; nums;
    while(n)&#123;
        nums.push_back(n % B);
        n /= B;
    &#125;
    int ans = 0;
    int last = 0;
    for(int i = nums.size() - 1; i &gt;= 0; i--)&#123;
        int x = nums[i];
        if(x &gt; 0)&#123;
            ans += f[i][K - last];
            if(x &gt; 1)&#123;
                if(K - last - 1 &gt;= 0) ans += f[i][K - last - 1];
                break;
            &#125;else&#123;
                last++;
                if(last &gt; K) break;
            &#125;
        &#125;
        if(i == 0 &amp;&amp; last == K) ans++;
    &#125;
    return ans;
&#125;
int main()&#123;
    init();
    int l, r;
    cin &gt;&gt; l &gt;&gt; r &gt;&gt; K &gt;&gt; B;
    cout &lt;&lt; dp(r) - dp(l - 1) &lt;&lt; &#39;\n&#39;;
&#125;
</code></pre><h3 id="AcWing-æ•°å­—æ¸¸æˆ"><a href="#AcWing-æ•°å­—æ¸¸æˆ" class="headerlink" title="AcWing|æ•°å­—æ¸¸æˆ"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA4NC8=">AcWing|æ•°å­—æ¸¸æˆ</span></h3><ul><li>åŒä¸Šä¸€é¢˜ï¼Œå…ˆæ±‚ $0 \sim N$ ä¸­ä¸é™æ•°çš„ä¸ªæ•°</li><li>çŠ¶æ€è¡¨ç¤º $f[i][j]$<ul><li>é›†åˆï¼šæ‰€æœ‰æœ€é«˜ä½æ˜¯ $j$ï¼Œä¸”ä¸€å…±æœ‰ $i$ ä½çš„ä¸é™æ•°çš„é›†åˆ</li><li>å±æ€§ï¼šæ•°é‡</li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 15;
int f[N][N];
void init()&#123;
    for(int i = 0; i &lt;= 9; i++)&#123;
        f[1][i] = 1;
    &#125;
    for(int i = 2; i &lt; N; i++)&#123;
        for(int j = 0; j &lt;= 9; j++)&#123;
            for(int k = j; k &lt;= 9; k++)&#123;
                f[i][j] += f[i - 1][k];
            &#125;
        &#125;
    &#125;
&#125;
int dp(int n)&#123;
    if(!n) return 1;
    vector&lt;int&gt; num;
    while(n)&#123;
        num.push_back(n % 10);
        n /= 10;
    &#125;
    int ans = 0, last = 0;
    for(int i = num.size() - 1; i &gt;= 0; i--)&#123;
        int x = num[i];
        // å·¦è¾¹åˆ†æ”¯,å› ä¸ºè¦ä¿æŒä¸é™åº,æ‰€ä»¥j &gt;= last
        for(int j = last; j &lt; x; j++)&#123;
            ans += f[i + 1][j];
        &#125;
        // å¦‚æœä¸Šä¸€ä½æœ€å¤§å€¼å¤§äºxçš„è¯,ä¸æ„æˆéé™åº,æ‰€ä»¥å³è¾¹åˆ†æ”¯ç»“æŸ
        if(last &gt; x) break;
        last = x;
        // å…¨éƒ¨æšä¸¾å®Œäº†ä¹ŸåŒæ ·æ„æˆä¸€ç§æ–¹æ¡ˆ
        if(!i) ans++;
    &#125;
    return ans;
&#125;
int main()&#123;
    int n, m;
    init();
    while(cin &gt;&gt; n &gt;&gt; m)&#123;
        cout &lt;&lt; dp(m) - dp(n - 1) &lt;&lt; &#39;\n&#39;;
    &#125;
&#125;
</code></pre><hr><h3 id="AcWing-Windy-æ•°"><a href="#AcWing-Windy-æ•°" class="headerlink" title="AcWing|Windy æ•°"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA4NS8=">AcWing|Windy æ•°</span></h3><ul><li>åŸºæœ¬æ¨¡æ¿åŒä¸Š</li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9zb2x1dGlvbi9jb250ZW50LzE1NTYyLw==">è¯¦ç»†é¢˜è§£</span></li><li>éœ€è¦åˆ¤æ–­æ•°æ˜¯å¦å°äº $n$ ä½ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼é›¶</li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 15;
int f[N][N];
// f[i][j] è¡¨ç¤ºä¸€å…±æœ‰iä½ï¼Œä¸”æœ€é«˜ä¸ºæ˜¯æ•°å­—jçš„æ»¡è¶³wingyæ•°å®šä¹‰çš„æ•°çš„ä¸ªæ•°
void init()&#123;
    for(int i = 0; i &lt;= 9; i++)&#123;
        f[1][i] = 1;
    &#125;
    for(int i = 2; i &lt;= N; i++)&#123;
        for(int j = 0; j &lt;= 9; j++)&#123;
            for(int k = 0; k &lt;= 9; k++)&#123;
                if(abs(j - k) &gt;= 2) f[i][j] += f[i - 1][k];
            &#125;
        &#125;
    &#125;
&#125;
int dp(int n)&#123;
    if(!n) return 0;
    vector&lt;int&gt; num;
    while(n)&#123;
        num.push_back(n % 10);
        n /= 10;
    &#125;
    int ans = 0, last = -1;
    for(int i = num.size() - 1; i &gt;= 0; i--)&#123;
        int x = num[i];
        for(int j = (i == num.size() - 1); j &lt; x; j++)&#123;
            if(abs(j - last) &gt;= 2) ans += f[i + 1][j];
        &#125;
        if(abs(last - x) &lt; 2) break;
        last = x;
        if(!i) ans++;
    &#125;
    for(int i = 1; i &lt;= num.size() - 1; i++)&#123;
        for(int j = 1; j &lt;= 9; j++)&#123;
            ans += f[i][j];
        &#125;
    &#125;
    return ans;
&#125;
int main()&#123;
    int n, m;
    init();
    cin &gt;&gt; n &gt;&gt; m;
    cout &lt;&lt; dp(m) - dp(n - 1) &lt;&lt; &#39;\n&#39;;
&#125;
</code></pre><h3 id="AcWing-æ•°å­—æ¸¸æˆ-â…¡"><a href="#AcWing-æ•°å­—æ¸¸æˆ-â…¡" class="headerlink" title="AcWing|æ•°å­—æ¸¸æˆ â…¡"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA4Ni8=">AcWing|æ•°å­—æ¸¸æˆ â…¡</span></h3><ul><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9zb2x1dGlvbi9jb250ZW50LzE1NTU2Lw==">è¯¦ç»†é¢˜è§£</span></li><li>$f[i][j][k]$ è¡¨ç¤ºä¸€å…±æœ‰ $i$ ä½ï¼Œä¸”æœ€é«˜ä½æ•°å­—æ˜¯ $j$ï¼Œä¸”æ‰€æœ‰ä½æ•°å­—å’Œ $MOD ; P$ ç»“æœä¸º $k$ çš„æ•°çš„ä¸ªæ•°ã€‚</li><li>çŠ¶æ€è®¡ç®—ï¼š<ul><li>ç”±äºç¬¬ $i$ ä½å·²ç»æ˜¯ $j$ï¼Œä¸”æ‰€æœ‰æ•°å­—ä¹‹å’Œ $MOD ; P$ ä¸º $k$ï¼Œæ‰€ä»¥æˆ‘ä»¬è€ƒè™‘ç¬¬ $i - 1$ ä½ï¼Œå‡è®¾ç¬¬ $i - 1$ ä½æ•°å­—æ˜¯ $x$ï¼Œç”±äº $j$ å·²ç»çŸ¥é“ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„ $i - 1$ ä½æ•°å­—ä¹‹å’Œå–æ¨¡åå°±æ˜¯ $(k - j) MOD P$</li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 11, M = 110;
int f[N][10][M];
int P;
int mod(int u, int v)&#123;
    return (u % v + v) % v;
&#125;
void init()&#123;
    memset(f, 0, sizeof(f));
    for(int i = 0; i &lt;= 9; i++) f[1][i][i % P]++;
    for(int i = 2; i &lt; N; i++)&#123;
        for(int j = 0; j &lt;= 9; j++)&#123;
            for(int k = 0; k &lt; P; k++)&#123;
                for(int x = 0; x &lt;= 9; x++)&#123;
                    f[i][j][k] += f[i - 1][x][mod(k - j, P)];
                &#125;
            &#125;
        &#125;
    &#125; 
&#125;
int dp(int n)&#123;
    if(!n) return 1;
    vector&lt;int&gt; nums;
    while(n)&#123;
        nums.push_back(n % 10);
        n /= 10;
    &#125;
    int ans = 0, last = 0;
    for(int i = nums.size() - 1; i &gt;= 0; i--)&#123;
        int x = nums[i];
        for(int j = 0; j &lt; x; j++)&#123;
            ans += f[i + 1][j][mod(-last, P)];
        &#125;
        last += x;
        if(!i &amp;&amp; last % P == 0) ans++;
    &#125;
    return ans;
&#125;
int main()&#123;
    int l, r;
    while(cin &gt;&gt; l &gt;&gt; r &gt;&gt; P)&#123;
        init();
        cout &lt;&lt; dp(r) - dp(l - 1) &lt;&lt; &#39;\n&#39;;
    &#125;
&#125;
</code></pre><h3 id="AcWing-ä¸è¦-62"><a href="#AcWing-ä¸è¦-62" class="headerlink" title="AcWing|ä¸è¦ 62"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA4Ny8=">AcWing|ä¸è¦ 62</span></h3><ul><li>æ•°ä½ DP + çŠ¶æ€æœº DP</li><li>åŸºæœ¬åˆ†æåŒå…¶ä»–æ•°ä½ DP é¢˜ä¸€æ ·ï¼Œéš¾ç‚¹æ˜¯æ±‚å·¦è¾¹åˆ†æ”¯</li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 15;
int f[N][N];
void init()&#123;
    for(int i = 0; i &lt;= 9; i++)&#123;
        if(i != 4)&#123;
            f[1][i] = 1;
        &#125;
    &#125;
    for(int i = 2; i &lt; N; i++)&#123;
        for(int j = 0; j &lt;= 9; j++)&#123;
            if(j == 4) continue;
            // k è¡¨ç¤ºç¬¬ i - 1 ä½æˆ‘å¡«çš„ä»€ä¹ˆï¼Œi - 1 ä½æ˜¯æˆ‘ä»¬ä¹‹å‰å¡«å¥½çš„ï¼Œæ‰€ä»¥å¯ä»¥æ‹¿æ¥ç”¨
            for(int k = 0; k &lt;= 9; k++)&#123;
                if(k == 4 || j == 6 &amp;&amp; k == 2) continue;
                f[i][j] += f[i - 1][k];
            &#125;
        &#125;
    &#125;
&#125;
int dp(int n)&#123;
    if(!n) return 1;
    vector&lt;int&gt; num;
    while(n)&#123;
        num.push_back(n % 10);
        n /= 10;
    &#125;
    int ans = 0, last = 0;
    for(int i = num.size() - 1; i &gt;= 0; i--)&#123;
        int x = num[i];
        for(int j = 0; j &lt; x; j++)&#123;
            if(j == 4 || last == 6 &amp;&amp; j == 2) continue;
            ans += f[i + 1][j];
        &#125;
        if(x == 4 || last == 6 &amp;&amp; x == 2) break;
        last = x;
        if(!i) ans++;
    &#125;
    return ans;
&#125;
int main()&#123;
    init();
    int l, r;
    while(cin &gt;&gt; l &gt;&gt; r, l || r)&#123;
        cout &lt;&lt; dp(r) - dp(l - 1) &lt;&lt; &#39;\n&#39;;
    &#125;
    return 0;
&#125;
</code></pre><h2 id="æ•°å­—ä¸‰è§’å½¢æ¨¡å‹"><a href="#æ•°å­—ä¸‰è§’å½¢æ¨¡å‹" class="headerlink" title="æ•°å­—ä¸‰è§’å½¢æ¨¡å‹"></a>æ•°å­—ä¸‰è§’å½¢æ¨¡å‹</h2><h3 id="AcWing-æ‘˜èŠ±ç”Ÿ"><a href="#AcWing-æ‘˜èŠ±ç”Ÿ" class="headerlink" title="AcWing|æ‘˜èŠ±ç”Ÿ"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTAxNy8=">AcWing|æ‘˜èŠ±ç”Ÿ</span></h3><pre><code class="cpp">for(int i = 1; i &lt;= r; i++)&#123;
    for(int j = 1; j &lt;= c; j++)&#123;
        dp[i][j] = max(dp[i - 1][j], dp[i][j - 1]) + w[i][j];
    &#125;
&#125;
cout &lt;&lt; dp[r][c] &lt;&lt; endl;
</code></pre><h3 id="AcWing-æœ€ä½é€šè¡Œè´¹"><a href="#AcWing-æœ€ä½é€šè¡Œè´¹" class="headerlink" title="AcWing|æœ€ä½é€šè¡Œè´¹"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTAyMC8=">AcWing|æœ€ä½é€šè¡Œè´¹</span></h3><pre><code class="cpp">for(int i = 1; i &lt;= n; i++)&#123;
    for(int j = 1; j &lt;= n; j++)&#123;
        if(i == 1 &amp;&amp; j == 1) dp[i][j] = w[i][j];
        else&#123;
            dp[i][j] = INF;
            if(i &gt; 1) dp[i][j] = min(dp[i][j], dp[i - 1][j] + w[i][j]);
            if(j &gt; 1) dp[i][j] = min(dp[i][j], dp[i][j - 1] + w[i][j]);
        &#125;
    &#125;
&#125;
cout &lt;&lt; dp[n][n] &lt;&lt; endl;
</code></pre><h3 id="AcWing-æ–¹æ ¼å–æ•°ğŸŒ¸"><a href="#AcWing-æ–¹æ ¼å–æ•°ğŸŒ¸" class="headerlink" title="AcWing|æ–¹æ ¼å–æ•°ğŸŒ¸"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTAyOS8=">AcWing|æ–¹æ ¼å–æ•°</span>ğŸŒ¸</h3><ul><li><strong>ä¸ºä½•ä¸èƒ½åˆ†å¼€èµ°</strong><ul><li>ç¬¬ä¸€æ¬¡èµ°ä¸ºå±€éƒ¨æœ€ä¼˜å¹¶ä¸”ä¹Ÿå¯¹ç¬¬äºŒæ¬¡èµ°é€ æˆäº†å½±å“ï¼Œç¬¬äºŒæ¬¡èµ°æ˜¯åœ¨ç¬¬ä¸€æ¬¡å½±å“ä¸‹æ‰€èƒ½èµ°çš„å±€éƒ¨æœ€ä¼˜ï¼Œä¸å…·å¤‡â€œæ— åæ•ˆæ€§â€ï¼Œå› æ­¤åˆ†å¼€ä¸¤æ¬¡èµ°å¹¶ä¸æ˜¯å…¨å±€æœ€ä¼˜è§£ã€‚</li></ul></li><li>çŠ¶æ€è¡¨ç¤º<ul><li>æŠŠ $dp[i_1][j_1][i_2][j_2]$ è½¬åŒ–ä¸º $dp[k][i_1][i_2]$ï¼Œå…¶ä¸­ $k &#x3D; i_1 + j_1 &#x3D; i_2 + j_2$ï¼Œå³ç­‰ä»·äº $dp[i_1][k - i_1][i_2][k - i_2]$ã€‚</li><li>å› æ­¤ï¼Œåœ¨å¤„ç†ä¸¤æ¬¡èµ°åˆ°ç›¸åŒç‚¹çš„æ—¶å€™ï¼Œå¯ä»¥è½¬åŒ–ä¸º<strong>åœ¨ $i_1 &#x3D; i_2$ å’Œ $j_1 &#x3D; j_2$ æ—¶</strong>ï¼Œåªå–ä¸€æ¬¡ $w[i_1][j_1]$ çš„å€¼</li><li>è§‚å¯Ÿå¯å‘ç°ï¼Œå½“ä¸¤æ¡è·¯å¾„èµ°çš„æ­¥é•¿ç›¸åŒæ—¶ï¼Œæ‰æœ‰å¯èƒ½å‡ºç°é‡å¤ç‚¹ã€‚</li><li>åˆå› ä¸ºæ¯æ­¥åŒæ—¶èµ° $i_1 + j_1 &#x3D; i_2 + j_2$ å¿…ç„¶æˆç«‹ï¼Œå› æ­¤ä»¤å‰é¢çš„å’Œä¸º $k$ï¼ŒçŠ¶æ€è¡¨ç¤ºä¸º $dp[k][i_1][i_2]$ã€‚</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li>å¯åˆ†ä¸ºå››ç§ï¼Œä¸€èµ·å‘å³èµ°ã€ä¸€èµ·å‘ä¸‹èµ°ã€ä¸€ä¸‹ä¸€å³ã€‚</li><li>$k - 1 &#x3D; i_1 + j_1 - 1 &#x3D; i_2 + j_2 - 1$ å¯åˆ†åˆ«è½¬æ¢æˆå››ç§çŠ¶æ€è½¬ç§»ï¼Œå–è¿™å››ç§çŠ¶æ€é›†åˆçš„ $max$ å³å¯ã€‚</li><li>$i_1 &#x3D; i_2$ ä»£è¡¨è·¯å¾„åœ¨è¯¥ç‚¹é‡åˆã€‚</li></ul></li></ul><pre><code class="cpp">for(int k = 2; k &lt;= 2 * n; k++)&#123;
    for(int i1 = 1; i1 &lt;= n; i1++)&#123;
        for(int i2 = 1; i2 &lt;= n; i2++)&#123;
            int j1 = k - i1, j2 = k - i2;
            if(j1 &gt;= 1 &amp;&amp; j1 &lt;= n &amp;&amp; j2 &gt;= 1 &amp;&amp; j2 &lt;= n)&#123;
                int t = w[i1][j1];
                if(i1 != i2) t += w[i2][j2];
                int &amp;x = dp[k][i1][i2];
                x = max(x, dp[k - 1][i1 - 1][i2 - 1] + t);
                x = max(x, dp[k - 1][i1 - 1][i2] + t);
                x = max(x, dp[k - 1][i1][i2 - 1] + t);
                x = max(x, dp[k - 1][i1][i2] + t);
            &#125;
        &#125;
    &#125;
&#125;
cout &lt;&lt; dp[2 * n][n][n] &lt;&lt; endl;
</code></pre><h3 id="AcWing-ä¼ çº¸æ¡ğŸŒ¸"><a href="#AcWing-ä¼ çº¸æ¡ğŸŒ¸" class="headerlink" title="AcWing|ä¼ çº¸æ¡ğŸŒ¸"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMjc3Lw==">AcWing|ä¼ çº¸æ¡</span>ğŸŒ¸</h3><ul><li>å¯ä»¥è¯æ˜ä¸ <em>æ–¹æ ¼å–æ•°</em> ç›¸åŒã€‚<ul><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9zb2x1dGlvbi9jb250ZW50LzEyMzg5Lw==">è¯æ˜</span></li></ul></li><li>ä»£ç </li></ul><pre><code class="cpp">for(int k = 2; k &lt;= n + m; k++)&#123;
    for(int i = 1; i &lt; k; i++)&#123;
        for(int j = 1; j &lt; k; j++)&#123;
            int j1 = k - i, j2 = k - j;
            int &amp;x = dp[k][i][j];
            int t = w[i][j1];
            if(i != j) t += w[j][j2];
            x = max(x, dp[k - 1][i - 1][j - 1] + t);
            x = max(x, dp[k - 1][i - 1][j] + t);
            x = max(x, dp[k - 1][i][j - 1] + t);
            x = max(x, dp[k - 1][i][j] + t);
        &#125;
    &#125;
&#125;
cout &lt;&lt; dp[n + m][n][n] &lt;&lt; endl;
</code></pre><hr><h2 id="æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹"><a href="#æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹" class="headerlink" title="æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹"></a>æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹</h2><h3 id="AcWing-æ€ªç›—åŸºå¾·çš„æ»‘ç¿”ç¿¼"><a href="#AcWing-æ€ªç›—åŸºå¾·çš„æ»‘ç¿”ç¿¼" class="headerlink" title="AcWing|æ€ªç›—åŸºå¾·çš„æ»‘ç¿”ç¿¼"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTAxOS8=">AcWing|æ€ªç›—åŸºå¾·çš„æ»‘ç¿”ç¿¼</span></h3><ul><li>ä¸¤ä¸ªæ–¹å‘éƒ½æ±‚ä¸€ä¸‹ $LIS$</li></ul><pre><code class="cpp">for(int i = 1; i &lt;= n; i++)&#123;
    dp1[i] = 1;
    for(int j = 1; j &lt; i; j++)&#123;
        if(w[i] &gt; w[j]) dp1[i] = max(dp1[i], dp1[j] + 1);
    &#125;
    ans = max(ans, dp1[i]);
&#125;
for(int i = n; i &gt;= 1; i--)&#123;
    dp2[i] = 1;
    for(int j = n; j &gt; i; j--)&#123;
        if(w[i] &gt; w[j]) dp2[i] = max(dp2[i], dp2[j] + 1);
    &#125;
    ans = max(ans, dp2[i]);
&#125;
cout &lt;&lt; ans &lt;&lt; endl;
</code></pre><h3 id="AcWing-ç™»å±±"><a href="#AcWing-ç™»å±±" class="headerlink" title="AcWing|ç™»å±±"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTAxNi8=">AcWing|ç™»å±±</span></h3><ul><li>ä¸¤ç«¯æ±‚ $LIS$ï¼Œæœ€åéå†æ¯ä¸ªç‚¹ã€‚</li></ul><pre><code class="cpp">for(int i = 1; i &lt;= n; i++) cin &gt;&gt; w[i];
for(int i = 1; i &lt;= n; i++)&#123;
    dp1[i] = 1;
    for(int j = 1; j &lt; i; j++)&#123;
        if(w[i] &gt; w[j]) dp1[i] = max(dp1[i], dp1[j] + 1);
    &#125;
&#125;
for(int i = n; i &gt;= 1; i--)&#123;
    dp2[i] = 1;
    for(int j = n; j &gt; i; j--)&#123;
        if(w[i] &gt; w[j]) dp2[i] = max(dp2[i], dp2[j] + 1);
    &#125;
&#125;
int ans = 0;
for(int i = 1; i &lt;= n; i++) ans = max(ans, dp1[i] + dp2[i] - 1);
cout &lt;&lt; ans &lt;&lt; endl;
</code></pre><h3 id="AcWing-åˆå”±é˜Ÿå½¢"><a href="#AcWing-åˆå”±é˜Ÿå½¢" class="headerlink" title="AcWing|åˆå”±é˜Ÿå½¢"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvNDg0Lw==">AcWing|åˆå”±é˜Ÿå½¢</span></h3><ul><li>ä¸ <em>ç™»å±±</em> å‡ ä¹ä¸€è‡´ã€‚</li></ul><pre><code class="cpp">for(int i = 1; i &lt;= n; i++) cin &gt;&gt; w[i];
for(int i = 1; i &lt;= n; i++)&#123;
    dp1[i] = 1;
    for(int j = 1; j &lt; i; j++)&#123;
        if(w[i] &gt; w[j]) dp1[i] = max(dp1[i], dp1[j] + 1);
    &#125;
&#125;
for(int i = n; i &gt;= 1; i--)&#123;
    dp2[i] = 1;
    for(int j = n; j &gt; i; j--)&#123;
        if(w[i] &gt; w[j]) dp2[i] = max(dp2[i], dp2[j] + 1);
    &#125;
&#125;
int ans = 0;
for(int i = 1; i &lt;= n; i++) ans = max(ans, dp1[i] + dp2[i] - 1);
cout &lt;&lt; n - ans &lt;&lt; endl;
</code></pre><h3 id="AcWing-å‹å¥½åŸå¸‚"><a href="#AcWing-å‹å¥½åŸå¸‚" class="headerlink" title="AcWing|å‹å¥½åŸå¸‚"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTAxNC8=">AcWing|å‹å¥½åŸå¸‚</span></h3><ul><li>å¯¹ä¸€ç«¯çš„åŸå¸‚æ’åºåå³å¯è½¬æ¢æˆ $LIS$ é—®é¢˜ã€‚</li><li>ç®€å•æ•°æ®ç‰ˆæœ¬</li></ul><pre><code class="cpp">for(int i = 1; i &lt;= n; i++) cin &gt;&gt; city[i].first &gt;&gt; city[i].second;
sort(city + 1, city + n + 1);
for(int i = 1; i &lt;= n; i++)&#123;
    dp[i] = 1;
    for(int j = 1; j &lt; i; j++)&#123;
        if(city[i].second &gt; city[j].second) dp[i] = max(dp[i], dp[j] + 1);
    &#125;
    ans = max(ans, dp[i]);
&#125;
cout &lt;&lt; ans &lt;&lt; endl;
</code></pre><ul><li>åŠ å¼ºæ•°æ®ç‰ˆæœ¬ï¼ˆä½¿ç”¨äºŒåˆ†ï¼‰</li></ul><pre><code class="cpp">for(int i = 1; i &lt;= n; i++) cin &gt;&gt; city[i].first &gt;&gt; city[i].second;
sort(city + 1, city + n + 1);
for(int i = 1; i &lt;= n; i++)&#123;
    int l = 0, r = ans;
    while(l &lt; r)&#123;
        int mid = l + r + 1 &gt;&gt; 1;
        if(dp[mid] &lt; city[i].second) l = mid;
        else r = mid - 1;
    &#125;
    ans = max(ans, l + 1);
    dp[l + 1] = city[i].second;
&#125;
cout &lt;&lt; ans &lt;&lt; endl;

// æˆ–è€…ä½¿ç”¨ lower_bound

*lower_bound(dp + 1, dp + ans + 1, city[i].second) = city[i].second;
</code></pre><h3 id="AcWing-æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œ"><a href="#AcWing-æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œ" class="headerlink" title="AcWing|æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œ"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTAxOC8=">AcWing|æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œ</span></h3><pre><code class="cpp">for(int i = 1; i &lt;= n; i++) cin &gt;&gt; w[i];
for(int i = 1; i &lt;= n; i++)&#123;
    dp[i] = w[i];
    for(int j = 1; j &lt; i; j++)&#123;
        if(w[i] &gt; w[j]) dp[i] = max(dp[i], dp[j] + w[i]);
    &#125;
    ans = max(ans, dp[i]);
&#125;
cout &lt;&lt; ans &lt;&lt; endl;
</code></pre><h3 id="AcWing-æ‹¦æˆªå¯¼å¼¹"><a href="#AcWing-æ‹¦æˆªå¯¼å¼¹" class="headerlink" title="AcWing|æ‹¦æˆªå¯¼å¼¹"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTAxMi8=">AcWing|æ‹¦æˆªå¯¼å¼¹</span></h3><details><summary>è´ªå¿ƒè¯æ˜</summary><a href="https://www.acwing.com/solution/content/52042/">è´ªå¿ƒè¯æ˜</a></details><ul><li>$O(n^2)$ dp + è´ªå¿ƒ<ul><li>é¢˜ç›®çš„ç¬¬äºŒé—®ï¼Œå¯¹äºç¬¬ $i$ å·å¯¼å¼¹ï¼Œè¦ä¹ˆé€‰æ‹©æœ«å°¾å¯¼å¼¹é«˜åº¦æœ€å°çš„æ‹¦æˆªç³»ç»Ÿï¼Œè¦ä¹ˆæ–°åˆ›ä¸€ä¸ªæ‹¦æˆªç³»ç»Ÿï¼Œç”¨ä¸€ä¸ªæ•°å­—å³æ¯å¥—æ‹¦æˆªç³»ç»Ÿæ­¤æ—¶æ‰€æ‹¦æˆªçš„æœ€åä¸€ä¸ªå¯¼å¼¹é«˜åº¦ï¼Œæ¥è¡¨ç¤ºè¯¥ç³»ç»Ÿã€‚</li><li>è¿™æ ·å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„æœ€ç»ˆé•¿åº¦å°±æ˜¯æ‰€éœ€è¦çš„æœ€å°‘æ‹¦æˆªç³»ç»Ÿæ•°ã€‚</li></ul></li></ul><pre><code class="cpp">int cnt = 0, ans = 0;
for(int i = 1; i &lt;= n; i++)&#123;
    dp[i] = 1;
    for(int j = 1; j &lt; i; j++)&#123;
        if(h[i] &lt;= h[j]) dp[i] = max(dp[i], dp[j] + 1);
    &#125;
    ans = max(ans, dp[i]);
    // æ›´æ–°å­åºåˆ—
    int k = 0;
    while(k &lt; cnt &amp;&amp; q[k] &lt; h[i]) k++;
    if(k == cnt) q[cnt++] = h[i];
    else q[k] = h[i];
&#125;
cout &lt;&lt; ans &lt;&lt; endl &lt;&lt; cnt &lt;&lt; endl;
</code></pre><ul><li>$O(nlogn)$ è´ªå¿ƒ + è´ªå¿ƒ</li></ul><pre><code class="cpp">//cntè¡¨ç¤ºå¯¼å¼¹ç³»ç»Ÿæ•°ï¼Œansè¡¨ç¤ºä¸€ä¸ªç³»ç»Ÿæœ€å¤šèƒ½æ‹¦æˆªçš„å¯¼å¼¹æ•°
int cnt = 0, ans = 0;
int a;
while(cin &gt;&gt; a)
&#123;
    //pos1è¡¨ç¤ºä»¥aç»“å°¾çš„æœ€é•¿ä¸å‡å­åºåˆ—é•¿åº¦
    int pos1 = upper_bound(f, f + ans, a, greater&lt;int&gt;()) - f; // æ•°ç»„é™åºæ‰€ä»¥åŠ ä¸Šå‚æ•°
    if(pos1 == ans) f[ans++] = a;
    else f[pos1] = a;

    int pos2 = lower_bound(g, g + cnt, a) - g;
    if(pos2 == cnt) g[cnt++] = a;
    else g[pos2] = a;
&#125;
cout &lt;&lt; ans &lt;&lt; endl &lt;&lt; cnt &lt;&lt; endl;
</code></pre><h3 id="AcWing-å¯¼å¼¹é˜²å¾¡ç³»ç»ŸğŸŒ¸"><a href="#AcWing-å¯¼å¼¹é˜²å¾¡ç³»ç»ŸğŸŒ¸" class="headerlink" title="AcWing|å¯¼å¼¹é˜²å¾¡ç³»ç»ŸğŸŒ¸"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTg5Lw==">AcWing|å¯¼å¼¹é˜²å¾¡ç³»ç»Ÿ</span>ğŸŒ¸</h3><details><summary>è¿­ä»£åŠ æ·±è§£æ³•</summary>ä¸€èˆ¬å¹³å‡ç­”æ¡ˆæ·±åº¦è¾ƒä½æ—¶å¯ä»¥é‡‡ç”¨è¿™ç§æ–¹å¼ã€‚ <a href="https://www.acwing.com/solution/content/4258/">è¿­ä»£åŠ æ·±é¢˜è§£</a></details><ul><li>æˆ‘ä»¬å¾ˆè‡ªç„¶åœ°ä¼šæƒ³åˆ° $LIS$ ç®—æ³•ï¼Œä¸è¿‡è¿™é‡Œçš„æ¡ä»¶æ˜¯ä¸€å¥—é˜²å¾¡ç³»ç»Ÿçš„å¯¼å¼¹æ‹¦æˆªé«˜åº¦è¦ä¹ˆä¸€ç›´ä¸Šå‡è¦ä¹ˆä¸€ç›´ä¸‹é™ï¼Œæ‰€ä»¥ç”¨ $LIS$ æ˜¯ä¸æ­£ç¡®çš„ã€‚</li><li>è€Œåœ¨ $LIS$ ä¸­ï¼Œæœ€æ ¸å¿ƒçš„æ€æƒ³åœ¨äºèƒ½å¦å°†ä¸€ä¸ªå…ƒç´ åŠ å…¥åˆ°åºåˆ—ä¸­ï¼Œåªä¸è¿™ä¸ªåºåˆ—ç›®å‰çš„æœ€åä¸€ä¸ªå…ƒç´ æœ‰å…³ã€‚<ul><li>å› æ­¤ç”¨ $up[k]$ å’Œ $down[k]$ è®°å½•ç¬¬ $k$ å¥—ä¸Šå‡ï¼ˆä¸‹é™ï¼‰ç³»ç»Ÿç›®å‰æ‰€æ‹¦æˆªçš„æœ€åä¸€ä¸ªå¯¼å¼¹ã€‚</li><li>$dfs(u, su, sd)$ æ„å‘³ç€å·²æœ‰ $su$ ä¸ªä¸Šå‡ï¼Œ$sd$ ä¸ªä¸‹é™ï¼Œæ­£åœ¨å¤„ç†ç¬¬ $u$ ä¸ªæ•°ã€‚</li></ul></li><li>åœ¨æ‰©å±•èŠ‚ç‚¹æ—¶å­˜åœ¨ä¸€ä¸ªè´ªå¿ƒç­–ç•¥<ul><li>å‡è®¾ç°åœ¨è¦æŠŠä¸€ä¸ªæ•°æ”¾å…¥ä¸€ä¸ªä¸Šå‡åºåˆ—ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯æ‰€æœ‰èƒ½æ”¾å…¥çš„ä¸Šå‡åºåˆ—ä¸­ï¼Œæœ€åä¸€ä¸ªå…ƒç´ æœ€å¤§çš„é‚£ä¸€ä¸ªã€‚</li><li>å¯¹äºä¸Šå‡åºåˆ—ï¼Œèƒ½æ”¾å…¥æœ€å¤§çš„é‚£ä¸ªå°±æ”¾å…¥æœ€å¤§çš„é‚£ä¸ªã€‚</li></ul></li><li>å¤æ‚åº¦ $O(n2^n)$</li></ul><pre><code class="cpp">int q[N], ans, up[N], down[N], n;
void dfs(int u, int su, int sd) &#123;
    if (su + sd &gt;= ans) return; // ansä¸å¯èƒ½å†å°äº†
    if (u == n) &#123;
        ans = su + sd;  // su, sd åˆ†åˆ«è¡¨ç¤º len(up[]), len(down[])
        return;
    &#125;
    // æƒ…å†µ1ï¼šå°†å½“å‰æ•°æ”¾åˆ°ä¸Šå‡å­åºåˆ—ä¸­
    int k = 0;
    while (k &lt; su &amp;&amp; up[k] &gt;= q[u]) k++;
    int t = up[k];
    up[k] = q[u];
    if (k &lt; su) dfs(u + 1, su, sd);
    else dfs(u + 1, su + 1, sd);
    up[k] = t;
    // æƒ…å†µ2ï¼šå°†å½“å‰æ•°æ”¾åˆ°ä¸‹é™å­åºåˆ—ä¸­ã€‚
    k = 0;
    while (k &lt; sd &amp;&amp; down[k] &lt;= q[u]) k++;
    t = down[k];
    down[k] = q[u];
    if (k &lt; sd) dfs(u + 1, su, sd);
    else dfs(u + 1, su, sd + 1);
    down[k] = t;
&#125;
void solve()&#123;
    for(int i = 0; i &lt; n; i++) cin &gt;&gt; q[i];
    ans = n;
    dfs(0, 0, 0);
    cout &lt;&lt; ans &lt;&lt; endl;
&#125;
</code></pre><h3 id="AcWing-æœ€å¤§å…¬å…±ä¸Šå‡å­åºåˆ—ğŸŒ¸"><a href="#AcWing-æœ€å¤§å…¬å…±ä¸Šå‡å­åºåˆ—ğŸŒ¸" class="headerlink" title="AcWing|æœ€å¤§å…¬å…±ä¸Šå‡å­åºåˆ—ğŸŒ¸"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMjc0Lw==">AcWing|æœ€å¤§å…¬å…±ä¸Šå‡å­åºåˆ—</span>ğŸŒ¸</h3><ul><li>è¿™é¢˜æ˜¯ <em>æœ€é•¿ä¸Šå‡å­åºåˆ—</em> å’Œ <em>æœ€é•¿å…¬å…±å­åºåˆ—</em> çš„ç»“åˆç‰ˆï¼Œåœ¨çŠ¶æ€è¡¨ç¤ºå’ŒçŠ¶æ€è®¡ç®—ä¸Šéƒ½èåˆäº†è¿™ä¸¤é“é¢˜çš„æ–¹æ³•ã€‚</li><li>çŠ¶æ€è¡¨ç¤º<ul><li>$f[i][j]$ ä»£è¡¨æ‰€æœ‰ $a[1 \sim j]$ ä¸­ä»¥ $b[j]$ ç»“å°¾çš„å…¬å…±ä¸Šå‡å­åºåˆ—çš„é›†åˆã€‚</li><li>$f[i][j]$ çš„å€¼ç­‰äºè¯¥é›†åˆçš„å­åºåˆ—ä¸­é•¿åº¦çš„æœ€å¤§å€¼ã€‚</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li>é¦–å…ˆä¾æ®å…¬å…±å­åºåˆ—ä¸­æ˜¯å¦åŒ…å« $a[i]$ï¼Œå°† $f[i][j]$ æ‰€ä»£è¡¨çš„é›†åˆåˆ’åˆ†æˆä¸¤ä¸ªä¸é‡ä¸æ¼çš„å­é›†ï¼š<ol><li>ä¸åŒ…å« $a[i]$ çš„å­é›†ï¼Œæœ€å¤§å€¼æ˜¯ $f[i - 1][j]$ã€‚</li><li>åŒ…å« $a[i]$ çš„å­é›†ï¼Œå°†è¿™ä¸ªå­é›†ç»§ç»­åˆ’åˆ†ï¼Œä¾æ®æ˜¯å­åºåˆ—çš„å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ åœ¨ $b[]$ ä¸­æ˜¯å“ªä¸ªæ•°ã€‚<ul><li>å­åºåˆ—åªåŒ…å« $b[j]$ ä¸€ä¸ªæ•°ï¼Œé•¿åº¦æ˜¯ $1$.</li><li>å­åºåˆ—çš„å€’æ•°ç¬¬äºŒä¸ªæ•°æ˜¯ $b[1]$ çš„é›†åˆï¼Œæœ€å¤§é•¿åº¦æ˜¯ $f[i - 1][1] + 1$ã€‚</li><li>â€¦</li><li>å­åºåˆ—çš„å€’æ•°ç¬¬äºŒä¸ªæ•°æ˜¯ $b[j - 1]$ çš„é›†åˆï¼Œæœ€å¤§é•¿åº¦æ˜¯ $f[i - 1][j - 1] + 1$ã€‚</li></ul></li></ol></li><li>å¦‚æœç›´æ¥æŒ‰ä¸Šè¿°æ€è·¯å®ç°ï¼Œéœ€è¦ä¸‰é‡å¾ªç¯ã€‚</li></ul></li></ul><pre><code class="cpp">for (int i = 1; i &lt;= n; i ++ )&#123;
    for (int j = 1; j &lt;= n; j ++ )&#123;
        f[i][j] = f[i - 1][j];
        if (a[i] == b[j])&#123;
            int maxv = 1;
            for (int k = 1; k &lt; j; k ++ )
                if (a[i] &gt; b[k])
                    maxv = max(maxv, f[i - 1][k] + 1);
            f[i][j] = max(f[i][j], maxv);
        &#125;
    &#125;
&#125;
</code></pre><ul><li>ç„¶åæˆ‘ä»¬å‘ç°æ¯æ¬¡å¾ªç¯æ±‚å¾—çš„ $maxv$ æ˜¯æ»¡è¶³ $a[i] &gt; b[k]$ çš„ $f[i - 1][k] + 1$ çš„å‰ç¼€æœ€å¤§å€¼ã€‚å› æ­¤å¯ä»¥ç›´æ¥å°† $maxv$ æåˆ°ç¬¬ä¸€å±‚å¾ªç¯å¤–é¢ï¼Œå‡å°‘é‡å¤è®¡ç®—ï¼Œæ­¤æ—¶åªå‰©ä¸‹ä¸¤é‡å¾ªç¯ã€‚</li><li>æœ€ç»ˆç­”æ¡ˆæšä¸¾å­åºåˆ—ç»“å°¾å–æœ€å¤§å€¼å³å¯ã€‚</li><li>æ—¶é—´å¤æ‚åº¦ $O(n^2)$</li></ul><pre><code class="cpp">for(int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i];
for(int i = 1; i &lt;= n; i++) cin &gt;&gt; b[i];
for(int i = 1; i &lt;= n; i++)&#123;
    int maxv = 1;
    for(int j = 1; j &lt;= n; j++)&#123;
        f[i][j] = f[i - 1][j];
        if(a[i] == b[j]) f[i][j] = max(f[i][j], maxv);
        if(a[i] &gt; b[j]) maxv = max(maxv, f[i - 1][j] + 1);
    &#125;
&#125;
int ans = 0;
for(int i = 1; i &lt;= n; i++) ans = max(ans, f[n][i]);
cout &lt;&lt; ans &lt;&lt; endl;
</code></pre><hr><h2 id="èƒŒåŒ…æ¨¡å‹"><a href="#èƒŒåŒ…æ¨¡å‹" class="headerlink" title="èƒŒåŒ…æ¨¡å‹"></a>èƒŒåŒ…æ¨¡å‹</h2><h3 id="AcWing-é‡‡è¯"><a href="#AcWing-é‡‡è¯" class="headerlink" title="AcWing|é‡‡è¯"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvNDI1Lw==">AcWing|é‡‡è¯</span></h3><ul><li>01 èƒŒåŒ…è£¸é¢˜</li></ul><pre><code class="cpp">int T, M;
cin &gt;&gt; T &gt;&gt; M;
for(int i = 1; i &lt;= M; i++) cin &gt;&gt; t[i] &gt;&gt; w[i];
for(int i = 1 ;i &lt;= M; i++)&#123;
    for(int j = T; j &gt;= t[i]; j--)&#123;
        dp[j] = max(dp[j], dp[j - t[i]] + w[i]);
    &#125;
&#125;
cout &lt;&lt; dp[T] &lt;&lt; endl;
</code></pre><h3 id="AcWing-è£…ç®±é—®é¢˜"><a href="#AcWing-è£…ç®±é—®é¢˜" class="headerlink" title="AcWing|è£…ç®±é—®é¢˜"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTAyNi8=">AcWing|è£…ç®±é—®é¢˜</span></h3><pre><code class="cpp">int V, n;
cin &gt;&gt; V &gt;&gt; n;
for(int i = 1; i &lt;= n; i++)&#123;
    int v;
    cin &gt;&gt; v;
    for(int j = V; j &gt;= v; j--)&#123;
        dp[j] = max(dp[j], dp[j - v] + v);
    &#125;
&#125;
cout &lt;&lt; V - dp[V] &lt;&lt; endl;
</code></pre><h3 id="AcWing-äºŒä½è´¹ç”¨çš„èƒŒåŒ…é—®é¢˜"><a href="#AcWing-äºŒä½è´¹ç”¨çš„èƒŒåŒ…é—®é¢˜" class="headerlink" title="AcWing|äºŒä½è´¹ç”¨çš„èƒŒåŒ…é—®é¢˜"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvOC8=">AcWing|äºŒä½è´¹ç”¨çš„èƒŒåŒ…é—®é¢˜</span></h3><pre><code class="cpp">int n, V, M;
cin &gt;&gt; n &gt;&gt; V &gt;&gt; M;
for(int i = 1; i &lt;= n; i++)&#123;
    int v, m, w;
    cin &gt;&gt; v &gt;&gt; m &gt;&gt; w;
    for(int j = V; j &gt;= v; j--)&#123;
        for(int k = M; k &gt;= m; k--)&#123;
            dp[j][k] = max(dp[j][k], dp[j - v][k - m] + w);
        &#125;
    &#125;
&#125;
cout &lt;&lt; dp[V][M] &lt;&lt; endl;
</code></pre><h3 id="AcWing-å® ç‰©å°ç²¾çµä¹‹æ”¶æœ"><a href="#AcWing-å® ç‰©å°ç²¾çµä¹‹æ”¶æœ" class="headerlink" title="AcWing|å® ç‰©å°ç²¾çµä¹‹æ”¶æœ"></a><a href="">AcWing|å® ç‰©å°ç²¾çµä¹‹æ”¶æœ</a></h3><ul><li>åœ¨èƒŒåŒ…é—®é¢˜ä¸­ï¼Œä½“ç§¯ $w$ ä¸ä»·å€¼ $v$ æ˜¯å¯ä»¥äº’é€†çš„ï¼å¯ä»¥å°† $f[i]$ è¡¨ç¤ºä¸ºä½“ç§¯ä¸º $i$ èƒ½è£…çš„æœ€å¤§ä»·å€¼ï¼Œä¹Ÿå¯ä»¥å°† $f[i]$ è¡¨ç¤ºä¸ºä»·å€¼ä¸º $i$ æ‰€éœ€çš„æœ€å°ä½“ç§¯ã€‚ä¸¤è€…ç­‰ä»·ï¼Œæˆ‘ä»¬åªéœ€è¦é€‰æ‹©èŒƒå›´è¾ƒå°çš„é‚£ç»´ä½œä¸ºä½“å°±å¯ä»¥äº†ï¼è¿™ç›´æ¥å½±å“åˆ°æ—¶ç©ºå¤æ‚åº¦ã€‚</li><li>è¿™é¢˜å°±æ˜¯ä¸ªæ¡ˆä¾‹ã€‚</li><li>åŒæ—¶ï¼Œè¯¥é¢˜ä¹Ÿæ˜¯ä¸ª <strong>01 èƒŒåŒ…</strong> çš„æ‰©å±• â€”â€” <strong>äºŒç»´è´¹ç”¨ 01 èƒŒåŒ…é—®é¢˜</strong></li><li>æŠŠ <em>é‡ç”Ÿå®å¯æ¢¦</em> çœ‹ä½œç‰©å“ï¼Œåˆ™æ•æ‰ä»–éœ€è¦çš„ <em>ç²¾çµçƒ</em> ä¸ªæ•°å°±æ˜¯ç¬¬ä¸€è´¹ç”¨ï¼Œæˆ˜æ–—æ—¶çš®å¡ä¸˜è¦å‡å°‘çš„è¡€é‡å°±æ˜¯ç¬¬äºŒè´¹ç”¨ã€‚</li><li>æœ€åç­”æ¡ˆè¦æ±‚ç‰©å“æ•°é‡æœ€å¤šï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨çŠ¶æ€çš„å±æ€§æ¥è¡¨ç¤ºé€‰æ‹©çš„ç‰©å“æ•°</li></ul><pre><code class="cpp">int N, M, K;
cin &gt;&gt; N &gt;&gt; M &gt;&gt; K;	// ç²¾çµçƒæ•°é‡ï¼›çš®å¡ä¸˜åˆå§‹çš„ä½“åŠ›å€¼ã€é‡ç”Ÿå°ç²¾çµçš„æ•°é‡
for(int i = 1; i &lt;= K; i++)&#123;
    int v1, v2;
    cin &gt;&gt; v1 &gt;&gt; v2;
    for(int j = N; j &gt;= v1; j--)&#123;
        for(int k = M - 1; k &gt;= v2; k--)&#123;
            dp[j][k] = max(dp[j][k], dp[j - v1][k - v2] + 1);
        &#125;
    &#125;
&#125;
int cost_health = M;	// æ¶ˆè€—çš„ä½“åŠ›å€¼çš„æœ€å°å€¼
for(int i = 0; i &lt;= M - 1; i++)&#123;
    if(dp[N][i] == dp[N][M - 1]) cost_health = min(cost_health, i);
&#125;
cout &lt;&lt; dp[N][M - 1] &lt;&lt; &quot; &quot; &lt;&lt; M - cost_health &lt;&lt; endl;
</code></pre><h3 id="AcWing-å¤šé‡èƒŒåŒ…é—®é¢˜-â…¢ğŸŒ¸"><a href="#AcWing-å¤šé‡èƒŒåŒ…é—®é¢˜-â…¢ğŸŒ¸" class="headerlink" title="AcWing|å¤šé‡èƒŒåŒ…é—®é¢˜ â…¢ğŸŒ¸"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvNi8=">AcWing|å¤šé‡èƒŒåŒ…é—®é¢˜ â…¢</span>ğŸŒ¸</h3><ul><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9zb2x1dGlvbi9jb250ZW50LzUzNTA3Lw==">è¯¦ç»†è¯æ˜</span></li><li>æ±‚æ»‘åŠ¨çª—å£å†…çš„æœ€å¤§å€¼<ul><li>æ»‘åŠ¨çª—å£å¤§å°éšæ¯ç§ç‰©å“å¯é€‰ä¸ªæ•°å˜åŒ–</li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 200010;
int n, m; // ç§ç±»æ•°ï¼Œæ€»ä½“ç§¯å¤§å°
int f[N], g[N], q[N];
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    cin &gt;&gt; n &gt;&gt; m;
    for(int i = 0; i &lt; n; i++)&#123;
        int v, w, s;
        cin &gt;&gt; v &gt;&gt; w &gt;&gt; s;
        memcpy(g, f, sizeof(f));
        for(int j = 0; j &lt; v; j++)&#123; // æšä¸¾ä½™æ•°
            int hh = 0, tt = -1;
            for(int k = j; k &lt;= m; k += v)&#123;
                if(hh &lt;= tt &amp;&amp; q[hh] &lt; k - s * v) hh++;
                while(hh &lt;= tt &amp;&amp; g[q[tt]] - (q[tt] - j) / v * w &lt;= g[k] - (k - j) / v * w) tt--;
                q[++tt] = k;
                f[k] = g[q[hh]] + (k - q[hh]) / v * w;
            &#125;
        &#125;
    &#125;
    cout &lt;&lt; f[m] &lt;&lt; endl;
&#125;
</code></pre><h3 id="AcWing-æ½œæ°´å‘˜"><a href="#AcWing-æ½œæ°´å‘˜" class="headerlink" title="AcWing|æ½œæ°´å‘˜"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTAyMi8=">AcWing|æ½œæ°´å‘˜</span></h3><ul><li>åªè¦æœ‰ä¸€ç»´çš„ä½“ç§¯ä¸º $0$ ï¼Œåˆ™å¦ä¸€ç»´ä¸€å®šä¸º $0$ã€‚</li><li>è‹¥æœ‰ä¸€ç»´å°äº $0$ ï¼Œåˆ™å¯ä»¥çœ‹ä½œæ˜¯ä» $0$ å¼€å§‹è½¬ç§»ã€‚</li><li>æ±‚æœ€å°å€¼</li></ul><pre><code class="cpp">memset(dp, 0x3f, sizeof(dp));
dp[0][0] = 0;
int n, m, q;
cin &gt;&gt; n &gt;&gt; m &gt;&gt; q;
for(int i = 1; i &lt;= q; i++)&#123;
    int a, b, w;
    cin &gt;&gt; a &gt;&gt; b &gt;&gt; w;
    for(int j = n; j &gt;= 0; j--)&#123;
        for(int k = m; k &gt;= 0; k--)&#123;
            dp[j][k] = min(dp[j][k], dp[max(0, j - a)][max(0, k - b)] + w);
        &#125;
    &#125;
&#125;
cout &lt;&lt; dp[n][m] &lt;&lt; endl;
</code></pre><h3 id="AcWing-æ•°å­—ç»„åˆ"><a href="#AcWing-æ•°å­—ç»„åˆ" class="headerlink" title="AcWing|æ•°å­—ç»„åˆ"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMjgwLw==">AcWing|æ•°å­—ç»„åˆ</span></h3><pre><code class="cpp">int n, m;
cin &gt;&gt; n &gt;&gt; m;
dp[0] = 1;
for(int i = 1; i &lt;= n; i++)&#123;
    int x;
    cin &gt;&gt; x;
    for(int j = m; j &gt;= x; j--)&#123;
        dp[j] += dp[j - x];
    &#125;
&#125;
cout &lt;&lt; dp[m] &lt;&lt; endl;
</code></pre><h3 id="AcWing-åº†åŠŸä¼š"><a href="#AcWing-åº†åŠŸä¼š" class="headerlink" title="AcWing|åº†åŠŸä¼š"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTAyMS8=">AcWing|åº†åŠŸä¼š</span></h3><ul><li>å¤šé‡èƒŒåŒ…è£¸é¢˜ï¼Œæœ´ç´ ç‰ˆå³å¯ AC ã€‚</li></ul><pre><code class="cpp">int n, m;
cin &gt;&gt; n &gt;&gt; m;
for(int i = 1; i &lt;= n; i++)&#123;
    int v, w, s;
    cin &gt;&gt; v &gt;&gt; w &gt;&gt; s;
    for(int j = m; j &gt;= v; j--)&#123;
        for(int k = 0; k &lt;= s &amp;&amp; k * v &lt;= j; k++)&#123;
            dp[j] = max(dp[j], dp[j - v * k] + w * k);
        &#125;
    &#125;
&#125;
cout &lt;&lt; dp[m] &lt;&lt; endl;
</code></pre><h3 id="AcWing-ä¹°ä¹¦"><a href="#AcWing-ä¹°ä¹¦" class="headerlink" title="AcWing|ä¹°ä¹¦"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTAyNS8=">AcWing|ä¹°ä¹¦</span></h3><ul><li>å®Œå…¨èƒŒåŒ…ç»å…¸ä¼˜åŒ–<br>$\quad f(i, j) \quad &#x3D; ; f(i-1, j)+f(i-1, j-v_{i})+\cdots+f \left (i-1, j-s v_{i} \right)$<br>$f\left (i, j-v_{i}\right) &#x3D; \qquad \qquad \quad ; f\left (i-1, j-v_{i}\right)+\cdots+f\left (i-1, j-s v_{i}\right)$</li><li>åŒæ—¶ï¼Œè§‚å¯Ÿåˆ°è¯¥è½¬ç§»æ–¹ç¨‹å¯¹äºç¬¬ $i$ é˜¶æ®µçš„çŠ¶æ€ï¼Œåªä¼šä½¿ç”¨ç¬¬ $i-1$ å±‚å’Œç¬¬ $i$ å±‚çš„çŠ¶æ€ã€‚å› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥é‡‡ç”¨ 01 èƒŒåŒ…çš„ç©ºé—´ä¼˜åŒ–æ–¹æ¡ˆ</li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
int v[4] = &#123;10, 20, 50, 100&#125;;
int dp[1010];
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    int n;
    cin &gt;&gt; n;
    dp[0] = 1;
    for(int i = 0; i &lt; 4; i++)&#123;
        for(int j = v[i]; j &lt;= n; j++)&#123;
            dp[j] += dp[j - v[i]];
        &#125;
    &#125;
    cout &lt;&lt; dp[n] &lt;&lt; endl;
&#125;
</code></pre><h3 id="AcWing-èƒŒåŒ…é—®é¢˜æ±‚å…·ä½“æ–¹æ¡ˆ"><a href="#AcWing-èƒŒåŒ…é—®é¢˜æ±‚å…·ä½“æ–¹æ¡ˆ" class="headerlink" title="AcWing|èƒŒåŒ…é—®é¢˜æ±‚å…·ä½“æ–¹æ¡ˆ"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTIv">AcWing|èƒŒåŒ…é—®é¢˜æ±‚å…·ä½“æ–¹æ¡ˆ</span></h3><ul><li>å…ˆæ­£åºä¿å­˜ç‰©å“çš„ä½“ç§¯å’Œä»·å€¼ï¼Œç„¶åå€’åº dp ï¼Œå°±å¯ä»¥æŒ‰æ­£åºé€†æ¨å‡ºå­—å…¸åºæœ€å°çš„æ–¹æ¡ˆäº†ã€‚</li></ul><pre><code class="cpp">int n, m;
cin &gt;&gt; n &gt;&gt; m;
for(int i = 1; i &lt;= n; i++) cin &gt;&gt; v[i] &gt;&gt; w[i];
for(int i = n; i &gt;= 1; i--)&#123;
    for(int j = 0; j &lt;= m; j++)&#123;
        dp[i][j] = dp[i + 1][j];
        if(j &gt;= v[i]) dp[i][j] = max(dp[i][j], dp[i + 1][j - v[i]] + w[i]);
    &#125;
&#125;
int t = m;
for(int i = 1; i &lt;= n; i++)&#123;
    if(t &gt;= v[i] &amp;&amp; dp[i][t] == dp[i + 1][t - v[i]] + w[i])&#123;
        cout &lt;&lt; i &lt;&lt; &quot; &quot;;
        t -= v[i];
    &#125;
&#125;
</code></pre><h3 id="AcWing-æœºå™¨åˆ†é…"><a href="#AcWing-æœºå™¨åˆ†é…" class="headerlink" title="AcWing|æœºå™¨åˆ†é…"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTAxNS8=">AcWing|æœºå™¨åˆ†é…</span></h3><ul><li>å¯ä»¥å°†æ­¤é¢˜çœ‹ä½œåˆ†ç»„èƒŒåŒ…é—®é¢˜ï¼Œæ¯ä¸ªå…¬å¸ä»…èƒ½é€‰æ‹© $k$ ä¸ªæœºå™¨ï¼Œæ€»ä½“ç§¯ä¸º $m$ ï¼Œå³ä¸ºæ€»å…± $m$ ä¸ªæœºå™¨ã€‚</li></ul><pre><code class="cpp">int n, m;
cin &gt;&gt; n &gt;&gt; m;
for(int i = 1; i &lt;= n; i++)&#123;
    for(int j = 1; j &lt;= m; j++)&#123;
        cin &gt;&gt; w[i][j];
    &#125;
&#125;
for(int i = n; i &gt;= 1; i--)&#123;
    for(int j = 0; j &lt;= m; j++)&#123;
        for(int k = 0; k &lt;= j; k++)&#123;
            dp[i][j] = max(dp[i][j], dp[i + 1][j - k] + w[i][k]);
        &#125;
    &#125;
&#125;
int j = m;
for(int i = 1; i &lt;= n; i++)&#123;
    for(int k = 0; k &lt;= j; k++)&#123;
        if(dp[i][j] == dp[i + 1][j - k] + w[i][k])&#123;
            way[i] = k;
            j -= k;
            break;
        &#125;
    &#125;
&#125;
cout &lt;&lt; dp[1][m] &lt;&lt; endl;
for(int i = 1; i &lt;= n; i++) cout &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; way[i] &lt;&lt; endl;
</code></pre><h3 id="AcWing-é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ"><a href="#AcWing-é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ" class="headerlink" title="AcWing|é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvNDg5Lw==">AcWing|é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ</span></h3><ul><li>å¯ä»¥æŠŠæ¯ç§ä¸»ä»¶å’Œé™„å±çš„é™„ä»¶ç»„åˆçš„æ–¹æ¡ˆå…¨åˆ—ä¸¾å‡ºæ¥è¿›è¡Œé€‰æ‹©ï¼Œç”¨äºŒè¿›åˆ¶è¿›è¡Œæšä¸¾ã€‚<ul><li>æ¯ç§ä¸»ä»¶çš„æ­é…æ–¹æ¡ˆå…± $2^2$ ç§ã€‚</li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
#define x first
#define y second
using namespace std;
typedef pair&lt;int, int&gt; PII;
const int N = 32010, M = 70;
int dp[N];
PII master[M];
vector&lt;PII&gt; servant[M];
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    int n, m;
    cin &gt;&gt; n &gt;&gt; m;
    for(int i = 1; i &lt;= m; i++)&#123;
        int v, p, q;
        cin &gt;&gt; v &gt;&gt; p &gt;&gt; q;
        if(!q) master[i] = &#123;v, v * p&#125;;
        else servant[q].push_back(&#123;v, v * p&#125;);
    &#125;
    for(int i = 1; i &lt;= m; i++)&#123;
        if (master[i]. x)&#123;		// åˆ¤æ–­æ˜¯å¦ä¸ºä¸»ä»¶ï¼Œä¸”ä»·å€¼æ˜¯å¦ä¸æ˜¯ 0.
            for(int j = n; j &gt;= 0; j--)&#123;
                auto &amp;s = servant[i];
                for(int k = 0; k &lt; 1 &lt;&lt; s.size(); k++)&#123;
                    int v = master[i].x, w = master[i].y;
                    for(int l = 0; l &lt; s.size(); l++)&#123;
                        if(k &gt;&gt; l &amp; 1) v += s[l].x, w += s[l].y;
                    &#125;
                    if(j &gt;= v) dp[j] = max(dp[j], dp[j - v] + w);
                &#125;
            &#125;
        &#125;
    &#125;
    cout &lt;&lt; dp[n] &lt;&lt; endl;
&#125;
</code></pre><h3 id="AcWing-å¼€å¿ƒçš„é‡‘æ˜"><a href="#AcWing-å¼€å¿ƒçš„é‡‘æ˜" class="headerlink" title="AcWing|å¼€å¿ƒçš„é‡‘æ˜"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvNDI4Lw==">AcWing|å¼€å¿ƒçš„é‡‘æ˜</span></h3><pre><code class="cpp">int n, m;
cin &gt;&gt; n &gt;&gt; m;
for(int i = 1; i &lt;= m; i++)&#123;
    int v, p;
    cin &gt;&gt; v &gt;&gt; p;
    for(int j = n; j &gt;= v; j--)&#123;
        dp[j] = max(dp[j], dp[j - v] + v * p);
    &#125;
&#125;
cout &lt;&lt; dp[n] &lt;&lt; endl;
</code></pre><h3 id="AcWing-è´§å¸ç³»ç»Ÿ"><a href="#AcWing-è´§å¸ç³»ç»Ÿ" class="headerlink" title="AcWing|è´§å¸ç³»ç»Ÿ"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTAyMy8=">AcWing|è´§å¸ç³»ç»Ÿ</span></h3><ul><li>åŒä¸Š <em>ä¹°ä¹¦</em> ä¸€é¢˜</li></ul><pre><code class="cpp">int n, m;
cin &gt;&gt; n &gt;&gt; m;
for(int i = 1; i &lt;= n; i++) cin &gt;&gt; v[i];
dp[0] = 1;
for(int i = 1; i &lt;= n; i++)&#123;
    for(int j = v[i]; j &lt;= m; j++)&#123;
        dp[j] += dp[j - v[i]];
    &#125;
&#125;
cout &lt;&lt; dp[m] &lt;&lt; endl;
</code></pre><h3 id="AcWing-è´§å¸ç³»ç»Ÿ-NOIP2018"><a href="#AcWing-è´§å¸ç³»ç»Ÿ-NOIP2018" class="headerlink" title="AcWing|è´§å¸ç³»ç»Ÿ NOIP2018"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvNTM0Lw==">AcWing|è´§å¸ç³»ç»Ÿ NOIP2018</span></h3><ul><li>é¢˜æ„<ul><li>å®šä¹‰ä¸€ä¸ªè´§å¸ç³»ç»Ÿ $(n, a)$ ï¼šä¸€å…±æœ‰ $n$ ç§è´§å¸ï¼Œæ¯ç§è´§å¸å¯¹åº”é¢å€¼ä¸º $a_i$ã€‚</li><li>æ¯ç§è´§å¸å¯ä»¥ä½¿ç”¨ä»»æ„å¤šä¸ªï¼Œè¿›è¡Œçº¿æ€§ç»„åˆï¼š</li><li>$k &#x3D; x_1a_1 + x_2a_2 + \cdots + x_na_n$ï¼Œå…¶ä¸­ $X_i\in Z \quad (i &#x3D; 1, 2, \cdots)$</li><li>$k$ ä¸ºè¯¥è´§å¸ç³»ç»Ÿ $(n, a)$ èƒ½å¤Ÿ <strong>çº¿æ€§è¡¨ç¤º</strong> çš„æ•°å€¼ ï¼ˆæœ¬é¢˜çš„ç³»æ•°å¿…é¡»ä¸ºéè´Ÿæ•´æ•°ï¼Œå› æ­¤<strong>ä¸çº¿æ€§ä»£æ•°ä¸­çš„çº¿æ€§è¡¨å‡ºä¸ä¸€è‡´</strong>ï¼‰</li><li>å®šä¹‰ $(n, a) \text { å’Œ }(m, b) \text { ç­‰ä»· } \Leftrightarrow \forall k \in Z^{+}$ï¼Œ$k$ å¦‚æœèƒ½è¢« $a$ çº¿æ€§è¡¨å‡ºï¼Œåˆ™ $k$ ä¹Ÿèƒ½è¢« $b$ çº¿æ€§è¡¨å‡ºï¼Œåä¹‹åˆ™éƒ½ä¸èƒ½ã€‚</li></ul></li><li>åˆ†æ<ul><li>ç”±å·²çŸ¥æ¯ç§è´§å¸å¯ä»¥ä½¿ç”¨ <em>æ— ç©·å¤š</em> ä¿¡æ¯å¯ä»¥åˆæ­¥åˆ¤æ–­æ˜¯å®Œå…¨èƒŒåŒ…çš„å˜ç§ã€‚</li><li>å‡è®¾è´§å¸ç³»ç»Ÿä¸­å­˜åœ¨ä¸€ä¸ªå…ƒç´ å¯ä»¥è¢«å…¶ä»–çš„å…ƒç´ çº¿æ€§è¡¨ç¤ºçš„è¯ï¼Œè¯¥å…ƒç´ åˆ™å¯ä»¥è®¤ä¸ºæ˜¯æ— æ•ˆçš„ã€‚</li><li>å› æ­¤æˆ‘ä»¬éœ€è¦æ±‚å‡ºè¯¥è´§å¸ç³»ç»Ÿçš„æœ€å¤§æ— å…³å‘é‡ç»„ã€‚</li><li>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ•°è®ºä¸­ <strong>åŸƒæ°ç­›æ³•</strong> çš„æ€æƒ³ã€‚<ul><li>å¯¹äºä¸€ä¸ªæ— æ•ˆçš„å…ƒç´ ï¼Œå®ƒåªä¼šè¢«å°äºå®ƒçš„å…ƒç´ çº¿æ€§è¡¨ç¤ºã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆè¡Œæ’åºã€‚</li><li>è€Œæˆ‘ä»¬åœ¨åšå®Œå…¨èƒŒåŒ…çš„é€‚åˆï¼Œéœ€è¦æ±‚å‡ºæ‰€æœ‰æ°å¥½èƒ½è¢«å‰ $i$ ä¸ªç‰©å“é€‰å‡ºçš„ä½“ç§¯çš„æ–¹æ¡ˆï¼Œå³åœ¨å®Œå…¨èƒŒåŒ…æ±‚æ–¹æ¡ˆæ•°çš„è¿‡ç¨‹ä¸­ï¼Œç»Ÿè®¡é‚£äº› <em>åˆå§‹ä¸èƒ½è¢«æ»¡è¶³</em> çš„ç‰©å“ä½“ç§¯çš„ä¸ªæ•°ã€‚</li></ul></li></ul></li></ul><pre><code class="cpp">int n;
cin &gt;&gt; n;
for(int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i];
sort(a + 1, a + 1 + n);
dp[0] = 1;
int m = a[n], ans = 0;
for(int i = 1; i &lt;= n; i++)&#123;
    if(!dp[a[i]]) ans++;
    for(int j = a[i]; j &lt;= m; j++)&#123;
        dp[j] += dp[j - a[i]];
    &#125;
&#125;
cout &lt;&lt; ans &lt;&lt; endl;
</code></pre><h3 id="AcWing-æ··åˆèƒŒåŒ…é—®é¢˜"><a href="#AcWing-æ··åˆèƒŒåŒ…é—®é¢˜" class="headerlink" title="AcWing|æ··åˆèƒŒåŒ…é—®é¢˜"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvNy8=">AcWing|æ··åˆèƒŒåŒ…é—®é¢˜</span></h3><ul><li>01 èƒŒåŒ…å¯ä»¥çœ‹ä½œæ˜¯å¯é€‰æ¬¡æ•°æœ€å¤šä¸º $1$ çš„å¤šé‡èƒŒåŒ…ã€‚</li></ul><pre><code class="cpp">int n, m;
cin &gt;&gt; n &gt;&gt; m;
for(int i = 1; i &lt;= n; i++)&#123;
    int v, w, s;
    cin &gt;&gt; v &gt;&gt; w &gt;&gt; s;
    if(s == 0)&#123;
        for(int j = v; j &lt;= m; j++) dp[j] = max(dp[j], dp[j - v] + w);
    &#125;else&#123;
        if(s == -1) s = 1;
        for(int j = 1; j &lt;= s; j &lt;&lt;= 1)&#123;
            for(int k = m; k &gt;= j * v; k--) dp[k] = max(dp[k], dp[k - j * v] + j * w);
            s -= j;
        &#125;
        if(s) for(int k = m; k &gt;= s * v; k--) dp[k] = max(dp[k], dp[k - s * v] + s * w);
    &#125;
&#125;
cout &lt;&lt; dp[m] &lt;&lt; endl;
</code></pre><h3 id="AcWing-æœ‰ä¾èµ–çš„èƒŒåŒ…é—®é¢˜ğŸŒ¸"><a href="#AcWing-æœ‰ä¾èµ–çš„èƒŒåŒ…é—®é¢˜ğŸŒ¸" class="headerlink" title="AcWing|æœ‰ä¾èµ–çš„èƒŒåŒ…é—®é¢˜ğŸŒ¸"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTAv">AcWing|æœ‰ä¾èµ–çš„èƒŒåŒ…é—®é¢˜</span>ğŸŒ¸</h3><ul><li>é¢˜æ„<ul><li>æœ‰ä¾èµ–çš„èƒŒåŒ…é—®é¢˜æ˜¯æŒ‡ç‰©å“ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œè¿™ç§ä¾èµ–å…³ç³»å¯ä»¥ç”¨ä¸€æ£µæ ‘æ¥è¡¨ç¤ºï¼Œè¦æ˜¯æˆ‘ä»¬æƒ³è¦é€‰æ‹©å­èŠ‚ç‚¹å°±å¿…é¡»è¿åŒå…¶çˆ¶èŠ‚ç‚¹ä¸€èµ·é€‰ã€‚</li></ul></li><li>åˆ†æ<ul><li>æŒ‰ç…§ä»¥å¾€çº¿æ€§èƒŒåŒ… DP çš„çŠ¶æ€è½¬ç§»ï¼Œç¬¬ $i$ ä»¶ç‰©å“åªä¼šä¾èµ–ç¬¬ $i - 1$ ç‰©å“çš„çŠ¶æ€ã€‚å‡å¦‚æœ¬é¢˜ä¹Ÿé‡‡ç”¨è¯¥ç§çŠ¶æ€ä¾èµ–å…³ç³»çš„è¯ï¼Œå¯¹äºèŠ‚ç‚¹ $i$ ï¼Œæˆ‘ä»¬éœ€è¦æšä¸¾ä»–æ‰€æœ‰å­èŠ‚ç‚¹çš„ç»„åˆå…± $2^k$ ç§ï¼Œå†æšä¸¾ä½“ç§¯ï¼Œæ—¶é—´å¤æ‚åº¦ä¼šå˜å¾—ååˆ†é«˜ã€‚</li><li>å› æ­¤æˆ‘ä»¬è½¬æ¢æ€è€ƒæ–¹å¼ï¼Œæšä¸¾<strong>æ¯ä¸ªçŠ¶æ€åˆ†ç»™å­èŠ‚ç‚¹çš„ä½“ç§¯</strong></li><li>æ—¶é—´å¤æ‚åº¦ä¸º $O (N \times V \times V)$</li></ul></li><li><strong>çŠ¶æ€è¡¨ç¤º</strong><ul><li>é›†åˆï¼šæ‰€æœ‰ä»ä»¥ $u$ ä¸ºæ ¹çš„å­æ ‘ä¸­é€‰ï¼Œä¸”æ€»ä½“ç§¯ä¸è¶…è¿‡ $j$ çš„æ–¹æ¡ˆã€‚</li><li>å±æ€§ï¼šMax</li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 110;
int dp[N][N];
int v[N], w[N];
int h[N], e[N], ne[N], idx;
int n, m;
void add(int a, int b)&#123;
    e[idx] = b, ne[idx] = h[a], h[a] = idx++;
&#125;
void dfs(int u)&#123;
    for(int i = h[u]; ~i; i = ne[i])&#123;   // å¾ªç¯ç‰©å“ç»„
        int son = e[i];
        dfs(son);
        // åˆ†ç»„èƒŒåŒ…
        for(int j = m - v[u]; j &gt;= 0; j--)&#123;     // å¾ªç¯ä½“ç§¯
            for(int k = 0; k &lt;= j; k++)&#123;        // å¾ªç¯å†³ç­–
                dp[u][j] = max(dp[u][j], dp[u][j - k] + dp[son][k]);
            &#125;
        &#125;
    &#125;
    // å°†ç‰©å“ u åŠ è¿›å»
    for(int i = m; i &gt;= v[u]; i--) dp[u][i] = dp[u][i - v[u]] + w[u];
    for(int i = 0; i &lt; v[u]; i++) dp[u][i] = 0;
&#125;
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    cin &gt;&gt; n &gt;&gt; m;
    memset(h, -1, sizeof(h));
    int root;
    for(int i = 1; i &lt;= n; i++)&#123;
        int p;
        cin &gt;&gt; v[i] &gt;&gt; w[i] &gt;&gt; p;
        if(p == -1) root = i;
        else add(p, i);
    &#125;
    dfs(root);
    cout &lt;&lt; dp[root][m] &lt;&lt; endl;
&#125;
</code></pre><h3 id="AcWing-èƒŒåŒ…é—®é¢˜æ±‚æ–¹æ¡ˆæ•°"><a href="#AcWing-èƒŒåŒ…é—®é¢˜æ±‚æ–¹æ¡ˆæ•°" class="headerlink" title="AcWing|èƒŒåŒ…é—®é¢˜æ±‚æ–¹æ¡ˆæ•°"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTEv">AcWing|èƒŒåŒ…é—®é¢˜æ±‚æ–¹æ¡ˆæ•°</span></h3><ul><li>é¦–å…ˆé¢˜ç›®ä¸­è¦æ±‚ <strong>æœ€ä¼˜é€‰æ³•çš„æ–¹æ¡ˆæ•°</strong>, ä¸”ä¸º 01 èƒŒåŒ…æ±‚è§£æœ€ä¼˜æ–¹æ¡ˆã€‚</li><li>$dp[i]$ è¡¨ç¤ºèƒŒåŒ…å®¹ç§¯æ°å¥½ä¸º $i$ æ—¶çš„æœ€å¤§ä»·å€¼å’Œã€‚</li><li>$ans[i]$ è¡¨ç¤ºèƒŒåŒ…å®¹ç§¯æ°å¥½ä¸º $i$ æ—¶å–æœ€ä¼˜è§£çš„æ–¹æ¡ˆã€‚</li></ul><pre><code class="cpp">int n, m;
cin &gt;&gt; n &gt;&gt; m;
memset(dp, -0x3f, sizeof(dp));
ans[0] = 1, dp[0] = 0;
for(int i = 1; i &lt;= n; i++)&#123;
    int v, w;
    for(int j = m; j &gt;= v; j--)&#123;
    cin &gt;&gt; v &gt;&gt; w;
        int maxv = max(dp[j], dp[j - v] + w);
        int cnt = 0;
        if(maxv == dp[j]) cnt += ans[j];
        if(maxv == dp[j - v] + w) cnt += ans[j - v];
        dp[j] = maxv, ans[j] = cnt % MOD;
    &#125;
&#125;
int res = *max_element(dp, dp + m + 1);
int cnt = 0;
for(int i = 0; i &lt;= m; i++)&#123;
    if(dp[i] == res)&#123;
        cnt = (cnt + ans[i]) % MOD;
    &#125;
&#125;
cout &lt;&lt; cnt &lt;&lt; endl;
</code></pre><h3 id="AcWing-èƒ½é‡çŸ³ğŸŒ–"><a href="#AcWing-èƒ½é‡çŸ³ğŸŒ–" class="headerlink" title="AcWing|èƒ½é‡çŸ³ğŸŒ–"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvNzM2Lw==">AcWing|èƒ½é‡çŸ³</span>ğŸŒ–</h3><ul><li>é¢˜æ„<ul><li>å…±æœ‰ $N$ å—èƒ½é‡çŸ³ï¼Œåƒæ‰å®ƒçš„æ—¶é—´æ˜¯ $S_i$ ï¼Œè·å¾—çš„èƒ½é‡æ˜¯ $E_i$ï¼Œæ¯å•ä½æ—¶é—´å†…æŸå¤±çš„èƒ½é‡æ˜¯ $L_i$ã€‚åœ¨åˆšåƒæ¯å—èƒ½é‡çŸ³æ—¶å°±èƒ½ç«‹åˆ»è·å¾—å®ƒçš„èƒ½é‡ï¼Œä¸ä¼šç»§ç»­è¡°å‡ï¼Œä¸”æ— æ³•ä¸­æ–­æ•´ä¸ªè¿‡ç¨‹ã€‚æ±‚æœ€ç»ˆè·å¾—çš„æœ€å¤§èƒ½é‡ã€‚</li></ul></li><li>åˆ†æ<ul><li>å…ˆè¿›è¡Œ <strong>è´ªå¿ƒ</strong> å°†é—®é¢˜è½¬åŒ–ï¼Œä½¿ç”¨<em>äº¤æ¢ä½ç½®æ³•</em> ï¼Œå‡è®¾å¯¹ä»»æ„ä¸¤ä¸ªæœ‰èƒ½é‡å‰©ä½™çš„èƒ½é‡çŸ³ $s_i, s_j$ï¼Œäº¤æ¢ä½ç½®åä¸¤ä¸ªå®çŸ³çš„è´¡çŒ®æ€»å’Œä¸ä¼šå˜å¾—æ›´å¤§ï¼Œå³ $E_i + E_j - (S_i \times L_j \le E_i + E_j - (S_J \times L_i)$ï¼ŒåŒ–ç®€åä¸º $S_i \times L_j \le S_j \times L_i$ã€‚æˆ‘ä»¬åªéœ€è¦æŒ‰ç…§è¯¥æ¡ä»¶å¯¹èƒ½é‡çŸ³è¿›è¡Œæ’åºã€‚</li><li>å¯¹äºå…¶å®ƒå½¢å¼çš„æ”¾ç½®æ–¹æ³•ï¼Œå¿…ç„¶å¯ä»¥é€šè¿‡ä¸Šé¢çš„æ¡ä»¶äº¤æ¢æŸæ»¡è¶³çš„ä¸¤é¡¹æ¥è·å¾—æ›´å°å€¼ã€‚</li><li>å› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‰ç…§ 01 èƒŒåŒ…çš„æ–¹æ³•ï¼Œå¯¹å…¶è¿›è¡ŒåŠ¨æ€è§„åˆ’ã€‚</li><li>$dp[i]$ è¡¨ç¤ºå½“å‰æ°å¥½èŠ±è´¹ $i$ å•ä½æ—¶é—´å¾—åˆ°çš„æœ€å¤§èƒ½é‡ã€‚</li><li>åˆå§‹çŠ¶æ€ $dp[0] &#x3D; 0$ã€‚</li></ul></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 10010;
struct Stone
&#123;
    int s, e, l;
    bool operator&lt;(const Stone &amp;w) const&#123;
        return s * w.l &lt; w.s * l;
    &#125;
&#125;stones[110];
int dp[N];
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    int T;
    cin &gt;&gt; T;
    for(int C = 1; C &lt;= T; C++)&#123;
        int n, m = 0;
        cin &gt;&gt; n;
        for(int i = 1; i &lt;= n; i++)&#123;
            cin &gt;&gt; stones[i].s &gt;&gt; stones[i].e &gt;&gt; stones[i].l;
            m += stones[i].s;
        &#125;
        sort(stones + 1, stones + n + 1);
        memset(dp, -0x3f, sizeof(dp));
        dp[0] = 0;
        for(int i = 1; i &lt;= n; i++)&#123;
            int s = stones[i].s, e = stones[i].e, l = stones[i].l;
            for(int j = m; j &gt;= s; j--)&#123;
                dp[j] = max(dp[j], dp[j - s] + e - (j - s) * l);
            &#125;
        &#125;
        int ans = *max_element(dp, dp + m + 1);
        cout &lt;&lt; &quot;Case #&quot; &lt;&lt; C &lt;&lt; &quot;: &quot; &lt;&lt; ans &lt;&lt; endl;
    &#125;
&#125;
</code></pre><hr><h2 id="çŠ¶æ€æœºæ¨¡å‹"><a href="#çŠ¶æ€æœºæ¨¡å‹" class="headerlink" title="çŠ¶æ€æœºæ¨¡å‹"></a>çŠ¶æ€æœºæ¨¡å‹</h2><ul><li>æŠŠç»“æœæ‰©å±•æˆè¿‡ç¨‹</li></ul><h3 id="AcWing-å¤§ç›—é˜¿ç¦"><a href="#AcWing-å¤§ç›—é˜¿ç¦" class="headerlink" title="AcWing|å¤§ç›—é˜¿ç¦"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA1MS8=">AcWing|å¤§ç›—é˜¿ç¦</span></h3><ul><li>çŠ¶æ€è¡¨ç¤º $f[i, 0], f[i, 1]$<ul><li>é›†åˆï¼šæ‰€æœ‰èµ°äº† $i$ æ­¥ï¼Œä¸”å½“å‰ä½äºçŠ¶æ€ $j$ çš„æ‰€æœ‰èµ°æ³•</li><li>å±æ€§ï¼šMax</li></ul></li><li>çŠ¶æ€æœºå…¥å£æ—¶ä¸€å®šæ˜¯çŠ¶æ€ $0$ï¼Œå› æ­¤éœ€è¦å°† $dp[0][1]$ ç½®ä¸ºè´Ÿæ— ç©·</li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 100010, INF = 0x3f3f3f3f;
int dp[N][2], w[N];
void solve()&#123;
    int n; cin &gt;&gt; n;
    for(int i = 1; i &lt;= n; i++) cin &gt;&gt; w[i];
    dp[0][0] = 0, dp[0][1] = -INF;
    for(int i = 1; i &lt;= n; i++)&#123;
        dp[i][0] = max(dp[i - 1][0], dp[i - 1][1]);
        dp[i][1] = dp[i - 1][0] + w[i];
    &#125;
    cout &lt;&lt; max(dp[n][0], dp[n][1]) &lt;&lt; endl;
&#125;
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    int t; cin &gt;&gt; t;
    while(t--) solve();
&#125;
</code></pre><h3 id="AcWing-è‚¡ç¥¨ä¹°å–-â…£"><a href="#AcWing-è‚¡ç¥¨ä¹°å–-â…£" class="headerlink" title="AcWing|è‚¡ç¥¨ä¹°å– â…£"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA1OS8=">AcWing|è‚¡ç¥¨ä¹°å– â…£</span></h3><ul><li>çŠ¶æ€è¡¨ç¤º $f[i, j, 0], f[i, j, 1]$<ul><li>é›†åˆï¼š$f[i, j, 0]$ è¡¨ç¤ºç¬¬ $i$ å¤©ï¼Œå·²ç»è¿›è¡Œå®Œç¬¬ $j$ æ¬¡äº¤æ˜“ï¼Œä¸”æ‰‹ä¸­æ— è´§ã€‚$f[i, j, 1]$ è¡¨ç¤ºç¬¬ $i$ å¤©ï¼Œæ­£åœ¨è¿›è¡Œç¬¬ $j$ æ¬¡äº¤æ˜“ï¼Œä¸”æ‰‹ä¸­æœ‰è´§ã€‚</li><li>å±æ€§ï¼šMax</li></ul></li><li>åˆå§‹åŒ–ä¸º $0$ è¡¨ç¤ºè¯¥çŠ¶æ€åˆæ³•ï¼Œåˆå§‹åŒ–ä¸º $-INF$ è¡¨ç¤ºä¸ºä¸åˆæ³•</li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 100010, K = 110, INF = 0x3f3f3f3f;
int dp[N][K][2], w[N];
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    int n, k; cin &gt;&gt; n &gt;&gt; k;
    for(int i = 1; i &lt;= n; i++) cin &gt;&gt; w[i];
    memset(dp, -0x3f, sizeof(dp));
    for(int i = 0; i &lt;= n; i++) dp[i][0][0] = 0; // æ³¨æ„ä»ç¬¬ 0 å¤©å¼€å§‹
    for(int i = 1; i &lt;= n; i++)&#123;
        for(int j = 1; j &lt;= k; j++)&#123;
            dp[i][j][0] = max(dp[i - 1][j][0], dp[i - 1][j][1] + w[i]);
            dp[i][j][1] = max(dp[i - 1][j][1], dp[i - 1][j - 1][0] - w[i]);
        &#125;
    &#125;
    int ans = 0;
    for(int i = 1; i &lt;= k; i++) ans = max(ans, dp[n][i][0]);
    cout &lt;&lt; ans &lt;&lt; endl;
&#125;
</code></pre><h3 id="AcWing-è‚¡ç¥¨ä¹°å–-â…¤"><a href="#AcWing-è‚¡ç¥¨ä¹°å–-â…¤" class="headerlink" title="AcWing|è‚¡ç¥¨ä¹°å– â…¤"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA2MC8=">AcWing|è‚¡ç¥¨ä¹°å– â…¤</span></h3><ul><li>æœ‰ä¸‰ä¸ªçŠ¶æ€ï¼Œã€Œæ‰‹ä¸­æœ‰è´§ã€ã€ã€Œæ‰‹ä¸­æ— è´§çš„ç¬¬ $1$ å¤© ã€ã€ã€Œæ‰‹ä¸­æ— è´§çš„ç¬¬ $\ge 2$ å¤© ã€</li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 100010, INF = 0x3f3f3f3f;
int dp[N][3], w[N];
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    int n; cin &gt;&gt; n;
    for(int i = 1; i &lt;= n; i++) cin &gt;&gt; w[i];
    dp[0][0] = dp[0][1] = -INF;
    dp[0][2] = 0;
    for(int i = 1; i &lt;= n; i++)&#123;
        dp[i][0] = max(dp[i - 1][0], dp[i - 1][2] - w[i]);
        dp[i][1] = dp[i - 1][0] + w[i];
        dp[i][2] = max(dp[i - 1][1], dp[i - 1][2]);
    &#125;
    cout &lt;&lt; max(dp[n][1], dp[n][2]) &lt;&lt; endl;
&#125;
</code></pre><h3 id="AcWing-è®¾è®¡å¯†ç ğŸŒ–"><a href="#AcWing-è®¾è®¡å¯†ç ğŸŒ–" class="headerlink" title="AcWing|è®¾è®¡å¯†ç ğŸŒ–"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9wcm9ibGVtL2NvbnRlbnQvMTA1NC8=">AcWing|è®¾è®¡å¯†ç </span>ğŸŒ–</h3><ul><li>çŠ¶æ€è¡¨ç¤º $f(i, j)$<ul><li>é›†åˆï¼šåˆ°ç¬¬ $i$ çš„å­—æ¯æ—¶ï¼ŒåŒ¹é…åˆ°å­ä¸²ä¸­ï¼ˆnext æ•°ç»„ï¼‰ä¸­çŠ¶æ€æ˜¯ $j$ æ—¶æ‰€æœ‰æ–¹æ¡ˆçš„æ•°é‡</li></ul></li><li>æœ¬é¢˜ä»¥ $j$ çš„ä½ç½®ä¸ºçŠ¶æ€æœº</li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9zb2x1dGlvbi9jb250ZW50LzU1NDQ5Lw==">çº¿æ€§DP + KMPè‡ªåŠ¨æœºæ¨¡å‹</span> | <span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN3aW5nLmNvbS9zb2x1dGlvbi9jb250ZW50LzI4MDIyLw==">æ€è·¯è¯¦è§£</span></li></ul><pre><code class="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 55, mod = 1e9 + 7;
char s[N];
int dp[N][N], ne[N];
int main()&#123;
    cin.tie(nullptr)-&gt;sync_with_stdio(false);
    int n, m;
    cin &gt;&gt; n &gt;&gt; s + 1;
    m = strlen(s + 1);
    for(int i = 2, j = 0; i &lt;= m; i++)&#123;
        while(j &amp;&amp; s[i] != s[j + 1]) j = ne[j];
        if(s[i] == s[j + 1]) j++;
        ne[i] = j;
    &#125;
    dp[0][0] = 1;
    for(int i = 0; i &lt; n; i++)&#123;
        for(int j = 0; j &lt; m; j++)&#123;
            for(char ch = &#39;a&#39;; ch &lt;= &#39;z&#39;; ch++)&#123;
                int ptr = j;
                while(ptr &amp;&amp; s[ptr + 1] != ch) ptr = ne[ptr];
                if(s[ptr + 1] == ch) ptr++;
                dp[i + 1][ptr] = (dp[i + 1][ptr] + dp[i][j]) % mod;
            &#125;
        &#125;
    &#125;
    int ans = 0;
    for(int i = 0; i &lt; m; i++) ans = (ans + dp[n][i]) % mod;
    cout &lt;&lt; ans &lt;&lt; endl;
&#125;
</code></pre><hr><h2 id="å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–-DP"><a href="#å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–-DP" class="headerlink" title="å•è°ƒé˜Ÿåˆ—ä¼˜åŒ– DP"></a>å•è°ƒé˜Ÿåˆ—ä¼˜åŒ– DP</h2><hr><h2 id="æ–œç‡ä¼˜åŒ–-DP"><a href="#æ–œç‡ä¼˜åŒ–-DP" class="headerlink" title="æ–œç‡ä¼˜åŒ– DP"></a>æ–œç‡ä¼˜åŒ– DP</h2><div class="tags"><a href="/tags/%E6%A8%A1%E6%9D%BF/" rel="tag"><i class="ic i-tag"></i> æ¨¡æ¿</a> <a href="/tags/%E9%A2%98%E9%9B%86/" rel="tag"><i class="ic i-tag"></i> é¢˜é›†</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-09-07 09:05:11" itemprop="dateModified" datetime="2022-09-07T09:05:11+08:00">2022-09-07</time> </span><span id="post/åŠ¨æ€è§„åˆ’é¢˜é›†.html" class="item leancloud_visitors" data-flag-title="åŠ¨æ€è§„åˆ’é¢˜é›†" title="é˜…è¯»æ¬¡æ•°"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">é˜…è¯»æ¬¡æ•°</span> <span class="leancloud-visitors-count"></span> <span class="text">æ¬¡</span></span></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š </strong>Retsa <i class="ic i-at"><em>@</em></i>Retsa</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="https://asterzc19.github.io/post/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E9%A2%98%E9%9B%86.html" title="åŠ¨æ€è§„åˆ’é¢˜é›†">https://asterzc19.github.io/post/åŠ¨æ€è§„åˆ’é¢˜é›†.html</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/post/%E4%BD%8D%E8%BF%90%E7%AE%97%E5%90%88%E9%9B%86.html" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;s3.bmp.ovh&#x2F;imgs&#x2F;2022&#x2F;09&#x2F;06&#x2F;8e1dc72d6a2cd665.jpg" title="ä½è¿ç®—åˆé›†"><span class="type">ä¸Šä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> ç®—æ³•</span><h3>ä½è¿ç®—åˆé›†</h3></a></div><div class="item right"><a href="/post/%E6%90%9C%E7%B4%A2%E9%A2%98%E9%9B%86.html" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;s3.bmp.ovh&#x2F;imgs&#x2F;2022&#x2F;09&#x2F;05&#x2F;d77d62850e952780.jpg" title="æœç´¢é¢˜é›†"><span class="type">ä¸‹ä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i></span><h3>æœç´¢é¢˜é›†</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">1.</span> <span class="toc-text">èƒŒåŒ…é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#01-%E8%83%8C%E5%8C%85"><span class="toc-number">1.1.</span> <span class="toc-text">01 èƒŒåŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85"><span class="toc-number">1.2.</span> <span class="toc-text">å®Œå…¨èƒŒåŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98-%E2%85%A0"><span class="toc-number">1.3.</span> <span class="toc-text">å¤šé‡èƒŒåŒ…é—®é¢˜ â… </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98-%E2%85%A1"><span class="toc-number">1.4.</span> <span class="toc-text">å¤šé‡èƒŒåŒ…é—®é¢˜ â…¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">1.5.</span> <span class="toc-text">åˆ†ç»„èƒŒåŒ…é—®é¢˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7-DP"><span class="toc-number">2.</span> <span class="toc-text">çº¿æ€§ DP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E4%B8%89%E8%A7%92%E5%BD%A2"><span class="toc-number">2.1.</span> <span class="toc-text">æ•°å­—ä¸‰è§’å½¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E9%95%BF%E4%B8%8A%E5%8D%87%E5%AD%90%E5%BA%8F%E5%88%97-%E2%85%A0"><span class="toc-number">2.2.</span> <span class="toc-text">æœ€é•¿ä¸Šå‡å­åºåˆ— â… </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E9%95%BF%E4%B8%8A%E5%8D%87%E5%AD%90%E5%BA%8F%E5%88%97-%E2%85%A1"><span class="toc-number">2.3.</span> <span class="toc-text">æœ€é•¿ä¸Šå‡å­åºåˆ— â…¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%AD%90%E5%BA%8F%E5%88%97"><span class="toc-number">2.4.</span> <span class="toc-text">æœ€é•¿å…¬å…±å­åºåˆ—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E7%9F%AD%E7%BC%96%E8%BE%91%E8%B7%9D%E7%A6%BB"><span class="toc-number">2.5.</span> <span class="toc-text">æœ€çŸ­ç¼–è¾‘è·ç¦»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E8%BE%91%E8%B7%9D%E7%A6%BB"><span class="toc-number">2.6.</span> <span class="toc-text">ç¼–è¾‘è·ç¦»</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%BA%E9%97%B4-DP"><span class="toc-number">3.</span> <span class="toc-text">åŒºé—´ DP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%B3%E5%AD%90%E5%90%88%E5%B9%B6"><span class="toc-number">3.1.</span> <span class="toc-text">çŸ³å­åˆå¹¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E7%8E%AF%E5%BD%A2%E7%9F%B3%E5%AD%90%E5%90%88%E5%B9%B6"><span class="toc-number">3.2.</span> <span class="toc-text">AcWing|ç¯å½¢çŸ³å­åˆå¹¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E8%83%BD%E9%87%8F%E9%A1%B9%E9%93%BE"><span class="toc-number">3.3.</span> <span class="toc-text">AcWing|èƒ½é‡é¡¹é“¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E5%87%B8%E5%A4%9A%E8%BE%B9%E5%BD%A2%E7%9A%84%E5%88%92%E5%88%86"><span class="toc-number">3.4.</span> <span class="toc-text">AcWing|å‡¸å¤šè¾¹å½¢çš„åˆ’åˆ†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E5%8A%A0%E5%88%86%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-number">3.5.</span> <span class="toc-text">AcWing|åŠ åˆ†äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%A3%8B%E7%9B%98%E5%88%86%E5%89%B2"><span class="toc-number">3.6.</span> <span class="toc-text">AcWing|æ£‹ç›˜åˆ†å‰²</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0%E7%B1%BB-DP"><span class="toc-number">4.</span> <span class="toc-text">è®¡æ•°ç±» DP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B4%E6%95%B0%E5%88%92%E5%88%86"><span class="toc-number">4.1.</span> <span class="toc-text">æ•´æ•°åˆ’åˆ†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2"><span class="toc-number">5.</span> <span class="toc-text">è®°å¿†åŒ–æœç´¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BB%91%E9%9B%AA"><span class="toc-number">5.1.</span> <span class="toc-text">æ»‘é›ª</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8A%B6%E5%8E%8B-DP"><span class="toc-number">6.</span> <span class="toc-text">çŠ¶å‹ DP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%92%99%E5%BE%B7%E9%87%8C%E5%AE%89%E7%9A%84%E6%A2%A6%E6%83%B3%F0%9F%8C%B8"><span class="toc-number">6.1.</span> <span class="toc-text">è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³ğŸŒ¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E7%9F%AD-Hamilton-%E8%B7%AF%E5%BE%84%F0%9F%8C%B8"><span class="toc-number">6.2.</span> <span class="toc-text">æœ€çŸ­ Hamilton è·¯å¾„ğŸŒ¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E5%B0%8F%E5%9B%BD%E7%8E%8B"><span class="toc-number">6.3.</span> <span class="toc-text">AcWing|å°å›½ç‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E7%8E%89%E7%B1%B3%E7%94%B0"><span class="toc-number">6.4.</span> <span class="toc-text">AcWing|ç‰ç±³ç”°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E7%82%AE%E5%85%B5%E9%98%B5%E5%9C%B0-%F0%9F%8C%B8"><span class="toc-number">6.5.</span> <span class="toc-text">AcWing|ç‚®å…µé˜µåœ° ğŸŒ¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%84%A4%E6%80%92%E7%9A%84%E5%B0%8F%E9%B8%9F%F0%9F%8C%96"><span class="toc-number">6.6.</span> <span class="toc-text">AcWing|æ„¤æ€’çš„å°é¸ŸğŸŒ–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%91%E5%BD%A2-DP"><span class="toc-number">7.</span> <span class="toc-text">æ ‘å½¢ DP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B2%A1%E6%9C%89%E4%B8%8A%E5%8F%B8%E7%9A%84%E8%88%9E%E4%BC%9A%F0%9F%8C%B8"><span class="toc-number">7.1.</span> <span class="toc-text">æ²¡æœ‰ä¸Šå¸çš„èˆä¼šğŸŒ¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%A0%91%E7%9A%84%E6%9C%80%E9%95%BF%E8%B7%AF%E5%BE%84"><span class="toc-number">7.2.</span> <span class="toc-text">AcWing|æ ‘çš„æœ€é•¿è·¯å¾„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%A0%91%E7%9A%84%E4%B8%AD%E5%BF%83"><span class="toc-number">7.3.</span> <span class="toc-text">AcWing|æ ‘çš„ä¸­å¿ƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%95%B0%E5%AD%97%E8%BD%AC%E6%8D%A2"><span class="toc-number">7.4.</span> <span class="toc-text">AcWing|æ•°å­—è½¬æ¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E4%BA%8C%E5%8F%89%E8%8B%B9%E6%9E%9C%E6%A0%91"><span class="toc-number">7.5.</span> <span class="toc-text">AcWing|äºŒå‰è‹¹æœæ ‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%88%98%E7%95%A5%E6%B8%B8%E6%88%8F"><span class="toc-number">7.6.</span> <span class="toc-text">AcWing|æˆ˜ç•¥æ¸¸æˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E7%9A%87%E5%AE%AB%E7%9C%8B%E5%AE%88%F0%9F%8C%96"><span class="toc-number">7.7.</span> <span class="toc-text">AcWing|çš‡å®«çœ‹å®ˆğŸŒ–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E4%BD%8D-DP"><span class="toc-number">8.</span> <span class="toc-text">æ•°ä½ DP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E5%BA%A6%E7%9A%84%E6%95%B0%E9%87%8F"><span class="toc-number">8.1.</span> <span class="toc-text">AcWing|åº¦çš„æ•°é‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%95%B0%E5%AD%97%E6%B8%B8%E6%88%8F"><span class="toc-number">8.2.</span> <span class="toc-text">AcWing|æ•°å­—æ¸¸æˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-Windy-%E6%95%B0"><span class="toc-number">8.3.</span> <span class="toc-text">AcWing|Windy æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%95%B0%E5%AD%97%E6%B8%B8%E6%88%8F-%E2%85%A1"><span class="toc-number">8.4.</span> <span class="toc-text">AcWing|æ•°å­—æ¸¸æˆ â…¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E4%B8%8D%E8%A6%81-62"><span class="toc-number">8.5.</span> <span class="toc-text">AcWing|ä¸è¦ 62</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E4%B8%89%E8%A7%92%E5%BD%A2%E6%A8%A1%E5%9E%8B"><span class="toc-number">9.</span> <span class="toc-text">æ•°å­—ä¸‰è§’å½¢æ¨¡å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%91%98%E8%8A%B1%E7%94%9F"><span class="toc-number">9.1.</span> <span class="toc-text">AcWing|æ‘˜èŠ±ç”Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%9C%80%E4%BD%8E%E9%80%9A%E8%A1%8C%E8%B4%B9"><span class="toc-number">9.2.</span> <span class="toc-text">AcWing|æœ€ä½é€šè¡Œè´¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%96%B9%E6%A0%BC%E5%8F%96%E6%95%B0%F0%9F%8C%B8"><span class="toc-number">9.3.</span> <span class="toc-text">AcWing|æ–¹æ ¼å–æ•°ğŸŒ¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E4%BC%A0%E7%BA%B8%E6%9D%A1%F0%9F%8C%B8"><span class="toc-number">9.4.</span> <span class="toc-text">AcWing|ä¼ çº¸æ¡ğŸŒ¸</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E9%95%BF%E4%B8%8A%E5%8D%87%E5%AD%90%E5%BA%8F%E5%88%97%E6%A8%A1%E5%9E%8B"><span class="toc-number">10.</span> <span class="toc-text">æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%80%AA%E7%9B%97%E5%9F%BA%E5%BE%B7%E7%9A%84%E6%BB%91%E7%BF%94%E7%BF%BC"><span class="toc-number">10.1.</span> <span class="toc-text">AcWing|æ€ªç›—åŸºå¾·çš„æ»‘ç¿”ç¿¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E7%99%BB%E5%B1%B1"><span class="toc-number">10.2.</span> <span class="toc-text">AcWing|ç™»å±±</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E5%90%88%E5%94%B1%E9%98%9F%E5%BD%A2"><span class="toc-number">10.3.</span> <span class="toc-text">AcWing|åˆå”±é˜Ÿå½¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E5%8F%8B%E5%A5%BD%E5%9F%8E%E5%B8%82"><span class="toc-number">10.4.</span> <span class="toc-text">AcWing|å‹å¥½åŸå¸‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%9C%80%E5%A4%A7%E4%B8%8A%E5%8D%87%E5%AD%90%E5%BA%8F%E5%88%97%E5%92%8C"><span class="toc-number">10.5.</span> <span class="toc-text">AcWing|æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%8B%A6%E6%88%AA%E5%AF%BC%E5%BC%B9"><span class="toc-number">10.6.</span> <span class="toc-text">AcWing|æ‹¦æˆªå¯¼å¼¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E5%AF%BC%E5%BC%B9%E9%98%B2%E5%BE%A1%E7%B3%BB%E7%BB%9F%F0%9F%8C%B8"><span class="toc-number">10.7.</span> <span class="toc-text">AcWing|å¯¼å¼¹é˜²å¾¡ç³»ç»ŸğŸŒ¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%9C%80%E5%A4%A7%E5%85%AC%E5%85%B1%E4%B8%8A%E5%8D%87%E5%AD%90%E5%BA%8F%E5%88%97%F0%9F%8C%B8"><span class="toc-number">10.8.</span> <span class="toc-text">AcWing|æœ€å¤§å…¬å…±ä¸Šå‡å­åºåˆ—ğŸŒ¸</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%8C%E5%8C%85%E6%A8%A1%E5%9E%8B"><span class="toc-number">11.</span> <span class="toc-text">èƒŒåŒ…æ¨¡å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E9%87%87%E8%8D%AF"><span class="toc-number">11.1.</span> <span class="toc-text">AcWing|é‡‡è¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E8%A3%85%E7%AE%B1%E9%97%AE%E9%A2%98"><span class="toc-number">11.2.</span> <span class="toc-text">AcWing|è£…ç®±é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E4%BA%8C%E4%BD%8D%E8%B4%B9%E7%94%A8%E7%9A%84%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">11.3.</span> <span class="toc-text">AcWing|äºŒä½è´¹ç”¨çš„èƒŒåŒ…é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E5%AE%A0%E7%89%A9%E5%B0%8F%E7%B2%BE%E7%81%B5%E4%B9%8B%E6%94%B6%E6%9C%8D"><span class="toc-number">11.4.</span> <span class="toc-text">AcWing|å® ç‰©å°ç²¾çµä¹‹æ”¶æœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E5%A4%9A%E9%87%8D%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98-%E2%85%A2%F0%9F%8C%B8"><span class="toc-number">11.5.</span> <span class="toc-text">AcWing|å¤šé‡èƒŒåŒ…é—®é¢˜ â…¢ğŸŒ¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%BD%9C%E6%B0%B4%E5%91%98"><span class="toc-number">11.6.</span> <span class="toc-text">AcWing|æ½œæ°´å‘˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%95%B0%E5%AD%97%E7%BB%84%E5%90%88"><span class="toc-number">11.7.</span> <span class="toc-text">AcWing|æ•°å­—ç»„åˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E5%BA%86%E5%8A%9F%E4%BC%9A"><span class="toc-number">11.8.</span> <span class="toc-text">AcWing|åº†åŠŸä¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E4%B9%B0%E4%B9%A6"><span class="toc-number">11.9.</span> <span class="toc-text">AcWing|ä¹°ä¹¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%E6%B1%82%E5%85%B7%E4%BD%93%E6%96%B9%E6%A1%88"><span class="toc-number">11.10.</span> <span class="toc-text">AcWing|èƒŒåŒ…é—®é¢˜æ±‚å…·ä½“æ–¹æ¡ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%9C%BA%E5%99%A8%E5%88%86%E9%85%8D"><span class="toc-number">11.11.</span> <span class="toc-text">AcWing|æœºå™¨åˆ†é…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E9%87%91%E6%98%8E%E7%9A%84%E9%A2%84%E7%AE%97%E6%96%B9%E6%A1%88"><span class="toc-number">11.12.</span> <span class="toc-text">AcWing|é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E5%BC%80%E5%BF%83%E7%9A%84%E9%87%91%E6%98%8E"><span class="toc-number">11.13.</span> <span class="toc-text">AcWing|å¼€å¿ƒçš„é‡‘æ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E8%B4%A7%E5%B8%81%E7%B3%BB%E7%BB%9F"><span class="toc-number">11.14.</span> <span class="toc-text">AcWing|è´§å¸ç³»ç»Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E8%B4%A7%E5%B8%81%E7%B3%BB%E7%BB%9F-NOIP2018"><span class="toc-number">11.15.</span> <span class="toc-text">AcWing|è´§å¸ç³»ç»Ÿ NOIP2018</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%B7%B7%E5%90%88%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">11.16.</span> <span class="toc-text">AcWing|æ··åˆèƒŒåŒ…é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E6%9C%89%E4%BE%9D%E8%B5%96%E7%9A%84%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%F0%9F%8C%B8"><span class="toc-number">11.17.</span> <span class="toc-text">AcWing|æœ‰ä¾èµ–çš„èƒŒåŒ…é—®é¢˜ğŸŒ¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%E6%B1%82%E6%96%B9%E6%A1%88%E6%95%B0"><span class="toc-number">11.18.</span> <span class="toc-text">AcWing|èƒŒåŒ…é—®é¢˜æ±‚æ–¹æ¡ˆæ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E8%83%BD%E9%87%8F%E7%9F%B3%F0%9F%8C%96"><span class="toc-number">11.19.</span> <span class="toc-text">AcWing|èƒ½é‡çŸ³ğŸŒ–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E6%9C%BA%E6%A8%A1%E5%9E%8B"><span class="toc-number">12.</span> <span class="toc-text">çŠ¶æ€æœºæ¨¡å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E5%A4%A7%E7%9B%97%E9%98%BF%E7%A6%8F"><span class="toc-number">12.1.</span> <span class="toc-text">AcWing|å¤§ç›—é˜¿ç¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E8%82%A1%E7%A5%A8%E4%B9%B0%E5%8D%96-%E2%85%A3"><span class="toc-number">12.2.</span> <span class="toc-text">AcWing|è‚¡ç¥¨ä¹°å– â…£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E8%82%A1%E7%A5%A8%E4%B9%B0%E5%8D%96-%E2%85%A4"><span class="toc-number">12.3.</span> <span class="toc-text">AcWing|è‚¡ç¥¨ä¹°å– â…¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AcWing-%E8%AE%BE%E8%AE%A1%E5%AF%86%E7%A0%81%F0%9F%8C%96"><span class="toc-number">12.4.</span> <span class="toc-text">AcWing|è®¾è®¡å¯†ç ğŸŒ–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97%E4%BC%98%E5%8C%96-DP"><span class="toc-number">13.</span> <span class="toc-text">å•è°ƒé˜Ÿåˆ—ä¼˜åŒ– DP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%9C%E7%8E%87%E4%BC%98%E5%8C%96-DP"><span class="toc-number">14.</span> <span class="toc-text">æ–œç‡ä¼˜åŒ– DP</span></a></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Retsa" data-src="/images/iOS.jpg"><p class="name" itemprop="name">Retsa</p><div class="description" itemprop="description">å¯¹æœªæ¥çš„é€æ”¯ï¼Œå¯¹è¿‡å»çš„å¿è¿˜</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">16</span> <span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">6</span> <span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">9</span> <span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0FzdGVyWkMxOQ==" title="https:&#x2F;&#x2F;github.com&#x2F;AsterZC19"><i class="ic i-github"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9Bc3RlclpDMTk=" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;AsterZC19"><i class="ic i-zhihu"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a></li><li class="item"><a href="/about" rel="section"><i class="ic i-user"></i>å…³äº</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/post/%E4%BD%8D%E8%BF%90%E7%AE%97%E5%90%88%E9%9B%86.html" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/post/%E6%90%9C%E7%B4%A2%E9%A2%98%E9%9B%86.html" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/AcWing/" title="åˆ†ç±»äº AcWing">AcWing</a></div><span><a href="/post/%E7%BA%BF%E6%80%A7%E5%90%8C%E4%BD%99%E6%96%B9%E7%A8%8B.html" title="çº¿æ€§åŒä½™æ–¹ç¨‹">çº¿æ€§åŒä½™æ–¹ç¨‹</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/post/%E7%BA%BF%E6%AE%B5%E6%A0%91%E8%BF%9B%E9%98%B6.html" title="çº¿æ®µæ ‘è¿›é˜¶">çº¿æ®µæ ‘è¿›é˜¶</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95/" title="åˆ†ç±»äº ç®—æ³•">ç®—æ³•</a> <i class="ic i-angle-right"></i> <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="åˆ†ç±»äº æ•°æ®ç»“æ„">æ•°æ®ç»“æ„</a> <i class="ic i-angle-right"></i> <a href="/categories/CodeForces/" title="åˆ†ç±»äº CodeForces">CodeForces</a> <i class="ic i-angle-right"></i> <a href="/categories/AtCoder/" title="åˆ†ç±»äº AtCoder">AtCoder</a></div><span><a href="/post/%E4%B8%AA%E4%BA%BA%E9%A2%98%E5%8D%95.html" title="é¢˜ç›®å°é›†">é¢˜ç›®å°é›†</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/post/Flyme%E6%9B%B4%E6%96%B0.html" title="Flyme æ›´æ–°æ—¥å¿—">Flyme æ›´æ–°æ—¥å¿—</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/post/%E9%AB%98%E7%BA%A7%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E9%A2%98%E9%9B%86.html" title="é«˜çº§æ•°æ®ç»“æ„é¢˜é›†">é«˜çº§æ•°æ®ç»“æ„é¢˜é›†</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95/" title="åˆ†ç±»äº ç®—æ³•">ç®—æ³•</a></div><span><a href="/post/%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF.html" title="åŸºç¡€ç®—æ³•æ¨¡æ¿">åŸºç¡€ç®—æ³•æ¨¡æ¿</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95/" title="åˆ†ç±»äº ç®—æ³•">ç®—æ³•</a> <i class="ic i-angle-right"></i> <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="åˆ†ç±»äº æ•°æ®ç»“æ„">æ•°æ®ç»“æ„</a></div><span><a href="/post/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%A8%A1%E6%9D%BF.html" title="åŸºç¡€æ•°æ®ç»“æ„æ¨¡æ¿">åŸºç¡€æ•°æ®ç»“æ„æ¨¡æ¿</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95/" title="åˆ†ç±»äº ç®—æ³•">ç®—æ³•</a></div><span><a href="/post/STL%E7%AE%80%E4%BB%8B.html" title="STL ç®€ä»‹">STL ç®€ä»‹</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%96%87%E7%AB%A0/" title="åˆ†ç±»äº æ–‡ç« ">æ–‡ç« </a></div><span><a href="/post/%E6%B3%A8%E6%84%8F%E5%8A%9B%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%AE%8C%E5%85%A8%E6%8A%A5%E5%91%8A.html" title="æ³¨æ„åŠ›ä½¿ç”¨ä¸å®Œå…¨æŠ¥å‘Š">æ³¨æ„åŠ›ä½¿ç”¨ä¸å®Œå…¨æŠ¥å‘Š</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/post/%E6%95%B0%E5%AD%A6%E7%9F%A5%E8%AF%86.html" title="æ•°å­¦çŸ¥è¯†">æ•°å­¦çŸ¥è¯†</a></span></li></ul></div><div><h2>æœ€æ–°è¯„è®º</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-Retsa"></i> </span><span class="author" itemprop="copyrightHolder">Retsa @ å›ä¸åˆ°çš„è¿‡å»</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="ç«™ç‚¹æ€»å­—æ•°">292k å­—</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">4:26</span></div><div class="powered-by">åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"post/åŠ¨æ€è§„åˆ’é¢˜é›†.html",favicon:{show:"å—¨~",hide:"å‘œå‘œå‘œ"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:!0,copy_tex:!0,katex:!0,fancybox:!0,copyright:'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->